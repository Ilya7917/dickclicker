import{d as Y,u as ne,B as fe,r as y,C as ve,b as i,c as l,e,t as f,n as oe,g as b,q as p,F as z,_ as q,z as S,m as ge,o as me,x as he,f as ee,v as O,h as te,y as L,I as _e,G as R,H as se,A as $,p as ye,i as be}from"./index-BrNg8x5m.js";import{A as xe,P as Ce}from"./profile-icon-Cs9u1iak.js";const ke="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20preserveAspectRatio='xMidYMid'%20width='200'%20height='200'%20style='shape-rendering:%20auto;%20display:%20block;'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cg%3e%3cg%20transform='translate(80,50)'%3e%3cg%20transform='rotate(0)'%3e%3ccircle%20fill-opacity='1'%20fill='%2327ff00'%20r='6'%20cy='0'%20cx='0'%3e%3canimateTransform%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20values='1.5%201.5;1%201'%20begin='-0.875s'%20type='scale'%20attributeName='transform'%3e%3c/animateTransform%3e%3canimate%20begin='-0.875s'%20values='1;0'%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20attributeName='fill-opacity'%3e%3c/animate%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3cg%20transform='translate(71.21320343559643,71.21320343559643)'%3e%3cg%20transform='rotate(45)'%3e%3ccircle%20fill-opacity='0.875'%20fill='%2327ff00'%20r='6'%20cy='0'%20cx='0'%3e%3canimateTransform%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20values='1.5%201.5;1%201'%20begin='-0.75s'%20type='scale'%20attributeName='transform'%3e%3c/animateTransform%3e%3canimate%20begin='-0.75s'%20values='1;0'%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20attributeName='fill-opacity'%3e%3c/animate%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3cg%20transform='translate(50,80)'%3e%3cg%20transform='rotate(90)'%3e%3ccircle%20fill-opacity='0.75'%20fill='%2327ff00'%20r='6'%20cy='0'%20cx='0'%3e%3canimateTransform%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20values='1.5%201.5;1%201'%20begin='-0.625s'%20type='scale'%20attributeName='transform'%3e%3c/animateTransform%3e%3canimate%20begin='-0.625s'%20values='1;0'%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20attributeName='fill-opacity'%3e%3c/animate%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3cg%20transform='translate(28.786796564403577,71.21320343559643)'%3e%3cg%20transform='rotate(135)'%3e%3ccircle%20fill-opacity='0.625'%20fill='%2327ff00'%20r='6'%20cy='0'%20cx='0'%3e%3canimateTransform%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20values='1.5%201.5;1%201'%20begin='-0.5s'%20type='scale'%20attributeName='transform'%3e%3c/animateTransform%3e%3canimate%20begin='-0.5s'%20values='1;0'%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20attributeName='fill-opacity'%3e%3c/animate%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3cg%20transform='translate(20,50.00000000000001)'%3e%3cg%20transform='rotate(180)'%3e%3ccircle%20fill-opacity='0.5'%20fill='%2327ff00'%20r='6'%20cy='0'%20cx='0'%3e%3canimateTransform%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20values='1.5%201.5;1%201'%20begin='-0.375s'%20type='scale'%20attributeName='transform'%3e%3c/animateTransform%3e%3canimate%20begin='-0.375s'%20values='1;0'%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20attributeName='fill-opacity'%3e%3c/animate%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3cg%20transform='translate(28.78679656440357,28.786796564403577)'%3e%3cg%20transform='rotate(225)'%3e%3ccircle%20fill-opacity='0.375'%20fill='%2327ff00'%20r='6'%20cy='0'%20cx='0'%3e%3canimateTransform%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20values='1.5%201.5;1%201'%20begin='-0.25s'%20type='scale'%20attributeName='transform'%3e%3c/animateTransform%3e%3canimate%20begin='-0.25s'%20values='1;0'%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20attributeName='fill-opacity'%3e%3c/animate%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3cg%20transform='translate(49.99999999999999,20)'%3e%3cg%20transform='rotate(270)'%3e%3ccircle%20fill-opacity='0.25'%20fill='%2327ff00'%20r='6'%20cy='0'%20cx='0'%3e%3canimateTransform%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20values='1.5%201.5;1%201'%20begin='-0.125s'%20type='scale'%20attributeName='transform'%3e%3c/animateTransform%3e%3canimate%20begin='-0.125s'%20values='1;0'%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20attributeName='fill-opacity'%3e%3c/animate%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3cg%20transform='translate(71.21320343559643,28.78679656440357)'%3e%3cg%20transform='rotate(315)'%3e%3ccircle%20fill-opacity='0.125'%20fill='%2327ff00'%20r='6'%20cy='0'%20cx='0'%3e%3canimateTransform%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20values='1.5%201.5;1%201'%20begin='0s'%20type='scale'%20attributeName='transform'%3e%3c/animateTransform%3e%3canimate%20begin='0s'%20values='1;0'%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20attributeName='fill-opacity'%3e%3c/animate%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3cg%3e%3c/g%3e%3c/g%3e%3c!--%20[ldio]%20generated%20by%20https://loading.io%20--%3e%3c/svg%3e",Pe="/assets/acceptet-BiKVjkxi.svg",we={class:"balance-panel"},Ie={class:"balance-hint"},Te={class:"balance__wrapper"},De={key:0,style:{display:"flex",justifyContent:"center"}},Se=Y({__name:"DonateBalance",props:{popupState:{type:Function}},setup(w){var k;const t=ne(),v=w,I=fe(()=>{var T,C;const m=((C=(T=t.user)==null?void 0:T.posts_balance)==null?void 0:C.toString().length)||0;return m<5?"44px":m<8?"39px":m<12?"34px":m<15?"29px":"24px"}),x=y(((k=t.user)==null?void 0:k.posts_balance)||0);function c(m){const T=x.value,C=m-T;let F=900;C<=10&&(F=300);const W=performance.now();function B(j){const _=j-W,d=Math.min(_/F,1);x.value=Math.round(T+C*d),d<1&&requestAnimationFrame(B)}requestAnimationFrame(B)}ve(()=>{var m;return((m=t.user)==null?void 0:m.posts_balance)??0},m=>{c(m)},{immediate:!0});const g=()=>{v.popupState("change")};return(m,T)=>{var C;return i(),l(z,null,[e("div",we,[e("span",Ie,f(m.$t("account.yourDonateBalance")),1),e("div",Te,[e("div",{class:"balance",style:oe({fontSize:I.value})},f(x.value.toLocaleString()),5)])]),((C=b(t).user)==null?void 0:C.posts_balance)!=null&&b(t).user.posts_balance>0?(i(),l("div",De,[e("div",{style:{height:"70px",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"15px"}},[e("button",{class:"boost-purchase-button",onClick:g},"Обменять")])])):p("",!0)],64)}}}),Ne=q(Se,[["__scopeId","data-v-14da8650"]]),Ae="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M3%2010C3%206.22876%203%204.34315%204.17157%203.17157C5.34315%202%207.22876%202%2011%202H13C16.7712%202%2018.6569%202%2019.8284%203.17157C21%204.34315%2021%206.22876%2021%2010V14C21%2017.7712%2021%2019.6569%2019.8284%2020.8284C18.6569%2022%2016.7712%2022%2013%2022H11C7.22876%2022%205.34315%2022%204.17157%2020.8284C3%2019.6569%203%2017.7712%203%2014V10ZM6%2012C6%2010.5858%206%209.87868%206.43934%209.43934C6.87868%209%207.58579%209%209%209H15C16.4142%209%2017.1213%209%2017.5607%209.43934C18%209.87868%2018%2010.5858%2018%2012V16C18%2017.4142%2018%2018.1213%2017.5607%2018.5607C17.1213%2019%2016.4142%2019%2015%2019H9C7.58579%2019%206.87868%2019%206.43934%2018.5607C6%2018.1213%206%2017.4142%206%2016V12ZM7%205.25C6.58579%205.25%206.25%205.58579%206.25%206C6.25%206.41421%206.58579%206.75%207%206.75H12C12.4142%206.75%2012.75%206.41421%2012.75%206C12.75%205.58579%2012.4142%205.25%2012%205.25H7Z'%20fill='%231C274C'/%3e%3c/svg%3e",Ve={class:"navMenu"},Me={class:"nav-btn__wrapper"},$e=["src"],Be=["src"],Le=["src"],je={class:"nav-btn__text"},ze=Y({__name:"NavMenu",props:{pageState:{}},emits:["change-page-state"],setup(w,{emit:t}){const v=w,I=t,x=c=>{c!==v.pageState&&I("change-page-state",c)};return(c,g)=>(i(),l("div",Ve,[e("div",Me,[e("button",{class:S(["post-component__nav-btn feed",{active:v.pageState==="posts"}]),onClick:g[0]||(g[0]=k=>x("posts"))},[e("img",{src:b(Ae)},null,8,$e)],2),e("button",{class:S(["post-component__nav-btn compose",{active:v.pageState==="create"}]),onClick:g[1]||(g[1]=k=>x("create"))},[e("img",{src:b(xe)},null,8,Be)],2),e("button",{class:S(["post-component__nav-btn profile",{active:v.pageState==="myposts"}]),onClick:g[2]||(g[2]=k=>x("myposts"))},[e("img",{src:b(Ce)},null,8,Le)],2)]),e("div",je,[e("span",{class:S(["nav-btn__text-item",{active:v.pageState==="posts"}])},"Posts",2),e("span",{class:S(["nav-btn__text-item",{active:v.pageState==="create"}])},"Write",2),e("span",{class:S(["nav-btn__text-item",{active:v.pageState==="myposts"}])},"Profile",2)])]))}}),Fe=q(ze,[["__scopeId","data-v-b75ae643"]]),h=w=>(ye("data-v-596cc175"),w=w(),be(),w),Ue=h(()=>e("div",{class:"Bg"},null,-1)),He={key:0,class:"createPostMenu"},Re={id:"progressbar"},We={class:"createForm"},Ee={key:0,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},Ge=h(()=>e("span",{style:{fontWeight:"bold",marginTop:"15px"}},"⚠️ Добавить можно только 1 изображение",-1)),Ke={class:"sec-center",style:{marginTop:"20px"}},Oe=h(()=>e("input",{class:"dropdown",type:"checkbox",id:"dropdown",name:"dropdown"},null,-1)),Ye={class:"for-dropdown",for:"dropdown"},qe={class:"section-dropdown"},Ze=h(()=>e("i",{class:"uil uil-arrow-right"},"💸",-1)),Xe=h(()=>e("i",{class:"uil uil-arrow-right"},"🗳️",-1)),Je={key:1,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},Qe=h(()=>e("label",{for:"fname"},"Описание(не обязательно)",-1)),et={key:2,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},tt={key:0,style:{display:"flex",alignItems:"center"}},st=h(()=>e("span",{style:{fontSize:"15px",fontWeight:"bold"}},"Платный пост (не обязательно)",-1)),nt={class:"checkbox-wrapper-7",style:{marginLeft:"20px"}},ot=h(()=>e("label",{class:"tgl-btn",for:"cb2-7"},null,-1)),at={key:1,style:{display:"flex",alignItems:"center",flexDirection:"column"}},it=h(()=>e("span",{style:{fontSize:"15px",fontWeight:"bold"}},"Цена голосования (в 🍆):",-1)),lt={key:2,style:{marginTop:"50px",textAlign:"center"}},ct=h(()=>e("span",{style:{fontSize:"15px",fontWeight:"bold"}},"Цена за разблокировку:",-1)),rt=h(()=>e("div",{style:{marginTop:"50px",textAlign:"center"}},[e("span",{style:{fontSize:"15px",fontWeight:"bold"}},"Стоимость создания поста: 1000🍆")],-1)),ut={key:3},dt={key:0,style:{display:"flex",flexDirection:"column"}},pt=["src"],ft=h(()=>e("span",{style:{fontSize:"17px",fontWeight:"bold",marginTop:"10px"}},"Подождите, мы загружаем ваш пост...",-1)),vt={key:1},gt=["src"],mt={key:0,style:{display:"flex",justifyContent:"center"}},ht={key:1,class:"boosts"},_t={class:"post"},yt={class:"ownerData"},bt=["src"],xt=["src"],Ct={class:"postDescription"},kt={key:0,class:"unlock",style:{height:"70px",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"15px"}},Pt={style:{fontSize:"14px"}},wt=["onClick"],It={key:1,class:"donations",style:{height:"70px",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"15px"}},Tt={class:"donation__counter"},Dt=["onClick"],St={key:2},Nt={class:"vote__counter"},At={class:"vote__counter-actions"},Vt={style:{display:"felx",flexDirection:"column",justifyContent:"center",textAlign:"center"}},Mt={style:{fontSize:"18px"}},$t=["onClick"],Bt={style:{display:"felx",flexDirection:"column",justifyContent:"center",textAlign:"center"}},Lt={style:{fontSize:"18px"}},jt=["onClick"],zt={class:"popup-content"},Ft={class:"popup-header"},Ut=h(()=>e("svg",{class:"close-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"16px",height:"16px"},[e("path",{d:"M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"})],-1)),Ht=[Ut],Rt={key:0,class:"popup-body"},Wt=h(()=>e("p",null,"Price:",-1)),Et={key:1,class:"popup-body"},Gt={class:"slidecontainer",style:{marginTop:"30px"}},Kt=["max"],Ot={key:2},Yt=["src"],qt={key:0},Zt={key:3},Xt={class:"slidecontainer",style:{marginTop:"30px"}},Jt=["max"],Qt={key:2,class:"myPosts"},es=["onClick"],ts=h(()=>e("div",{class:"icon-box",style:{fontSize:"27px"}},"🌐",-1)),ss={class:"text-container",style:{display:"flex",justifyContent:"center"}},ns={style:{marginLeft:"11px"}},os=Y({__name:"Posts",setup(w){ge();const t=ne();t.getBoosts(),y(!1),y(!1);const v=y("posts"),I=y(!1),x=y(!1),c=y({image:null,isPrivate:!1,description:"",type:"",price:0,votePrice:0}),g=y(0),k=[{id:0,isActive:!0,text:"Add image"},{id:1,isActive:!1,text:"Write description"},{id:2,isActive:!1,text:"Choose Details"}];async function m(){try{await Promise.all([t.getMyBoughtPosts(),t.getPosts().then(o=>{if(o){if(t.posts==null)return;const n=t.posts.filter(u=>u.Type==="donate"),a=t.posts.filter(u=>u.Type==="vote"),r=[];for(;n.length>0||a.length>0;){if(n.length>0){const u=n.shift();u!==void 0&&r.push(u)}if(a.length>0){const u=a.shift();u!==void 0&&r.push(u)}}t.posts=r}}),t.getMyPosts()])}catch(o){console.error("Error fetching user data:",o)}}me(()=>{v.value="posts",m()});const T=o=>{o!==v.value&&(v.value=o)},C=o=>{const a=o.target.files;if(a&&a.length>0){const r=a[0],u=new FileReader;u.onload=P=>{var H;const s=new Image;s.onload=()=>{const D=document.createElement("canvas"),J=D.getContext("2d"),G=1024,K=1024;let V=s.width,M=s.height;V>M?V>G&&(M*=G/V,V=G):M>K&&(V*=K/M,M=K),D.width=V,D.height=M,J!=null&&J.drawImage(s,0,0,V,M),D.toBlob(Q=>{Q&&(c.value.image=new File([Q],r.name,{type:r.type}),x.value=!0)},r.type,.8)},s.src=(H=P.target)==null?void 0:H.result},u.readAsDataURL(r)}},F=o=>{console.log(1);const a=o.target.value;a&&(c.value.description=a),console.log(c)},W=()=>{g.value!==0&&(x.value=!1),g.value++,k[g.value].isActive=!0},B=y(!1),j=()=>{if(t.user){if(t.user.balance<1e3){$().showAlert("Недостаточно 🍆 для создания поста");return}if(c.value.isPrivate=I.value,c.value.image!=null){const o={image:c.value.image,isPrivate:c.value.isPrivate,description:c.value.description,price:c.value.price,type:c.value.type,votePrice:c.value.votePrice};g.value++,t.createPost(o).then(n=>{n&&setTimeout(()=>{g.value=0,v.value="posts",k.forEach(a=>{a.id!==0&&(a.isActive=!1)}),B.value=!0,B.value=!1,t.getPosts(),t.getMyPosts()},2500)})}else $().showAlert("Не выбрано изображение")}},_=y("close"),d=y({id:0,price:0,imagePath:"",decription:"",donated:0}),U=(o,n,a,r,u,P)=>{_.value=o,d.value.id=n,d.value.price=a,d.value.imagePath=r!==null?r:"",d.value.decription=u!==null?u:"",d.value.donated=P!==null?P:0},ae=()=>{if(t.user){if(t.user.balance<d.value.price){$().showAlert("Недостаточно средств на счету");return}console.log(d.value.id),t.unlockPost(d.value.id).then(o=>{if(o&&t.posts!=null){let n=t.posts.findIndex(a=>a.ID==d.value.id);n!=-1&&(t.posts[n].IsPrivate=!1,t.getMyBoughtPosts())}})}},ie=(o,n)=>{var a;if(t.user){if(t.posts!=null&&t.posts[t.posts.findIndex(r=>r.ID==o)].Type!="donate"||t.user.id==n||t.posts!=null&&!t.posts[t.posts.findIndex(r=>r.ID==o)].IsPrivate)return!1;if(t.posts!=null&&t.posts[t.posts.findIndex(r=>r.ID==o)].IsPrivate)if(t.boughtPosts!=null){if(t.boughtPosts.length<0)return!0;if(((a=t.boughtPosts)==null?void 0:a.length)>0)return t.boughtPosts.findIndex(r=>r.PostID==o)==-1}else return!0}},le=(o,n)=>{if(t.user)return t.user.id==o||t.posts!=null&&!t.posts[t.posts.findIndex(a=>a.ID==n)].IsPrivate?!1:o!=t.user.id?!ce(n):!0},ce=o=>{if(t.boughtPosts!=null&&t.boughtPosts.length>0){let n=t.boughtPosts.findIndex(a=>a.PostID==o);if(console.log(n,o),n!=-1)return console.log(n),!0}return!1},N=y(0),re=()=>{if(t.user){if(t.user.balance<Number(N.value)){$().showAlert("Недостаточно средств на счету");return}t.donatePost(d.value.id,N.value).then(o=>{if(o&&t.posts!=null){let n=t.posts.findIndex(a=>a.ID==d.value.id);n!=-1&&(t.posts[n].Donated+=Number(N.value))}})}},ue=o=>{switch(o){case"unlock":return"Unlock post?";case"donate":return"Donate post?";case"visible":return`Post: ${d.value.id}`;case"change":return"Exchange donated dicks for basic ones?"}},A=y(0),de=()=>{t.user&&(t.user.posts_balance!=null&&t.user.posts_balance<A.value&&$().showAlert("ⓘ Недостаточно средств для вывода!"),$().showAlert("ⓘ Система удерживает 30% комиссию при переводе средств с донатного счёта на основной! ⓘ"),t.exchangeDonateMoney(A.value).then(o=>{var n;o&&((n=t.user)==null?void 0:n.posts_balance)!=null&&(t.user.posts_balance-=A.value)}))},Z=o=>{c.value.type=o},pe=o=>{switch(o){case"donate":return"Донатный 💸";case"vote":return"Голосование 🗳️"}return""},X=(o,n,a)=>{if(t.user){if(t.user.balance<a){$().showAlert("Недостаточно 🍆 для голосования");return}t.votePost(o,n).then(r=>{if(r&&t.posts!=null){let u=t.posts.findIndex(P=>P.ID==o);if(u!=-1)switch(n){case"yes":t.posts[u].VoteYes+=1;break;case"no":t.posts[u].VoteNo+=1;break}}})}},E=o=>{o.target.blur()};return(o,n)=>{var r,u,P;const a=he("click-outside");return i(),l(z,null,[Ue,ee(Fe,{"page-state":v.value,onChangePageState:T},null,8,["page-state"]),v.value==="create"?(i(),l("div",He,[e("div",null,[e("ul",Re,[(i(),l(z,null,O(k,s=>e("li",{class:S(s.isActive?"active":"")},f(s.text),3)),64))])]),e("div",We,[g.value===0?(i(),l("div",Ee,[e("input",{class:"addFile",type:"file",onChange:C},null,32),Ge,e("div",Ke,[Oe,e("label",Ye,f(c.value.type==""?"Выберите тип поста":pe(c.value.type)),1),e("div",qe,[e("a",{onClick:n[0]||(n[0]=s=>Z("donate"))},[te("Донатный "),Ze]),e("a",{onClick:n[1]||(n[1]=s=>Z("vote"))},[te("Голосование "),Xe])])])])):p("",!0),g.value===1?(i(),l("div",Je,[Qe,L(e("input",{type:"text",id:"fname",onChange:F,name:"fname"},null,544),[[a,E]])])):p("",!0),g.value===2?(i(),l("div",et,[c.value.type!="vote"?(i(),l("div",tt,[st,e("div",nt,[L(e("input",{class:"tgl tgl-ios",id:"cb2-7",type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=s=>I.value=s)},null,512),[[_e,I.value]]),ot])])):p("",!0),c.value.type=="vote"?(i(),l("div",at,[it,L(e("input",{type:"number",onKeydown:se(j,["enter"]),"onUpdate:modelValue":n[3]||(n[3]=s=>c.value.votePrice=s),style:{width:"100%"}},null,544),[[a,E],[R,c.value.votePrice]])])):p("",!0),I.value?(i(),l("div",lt,[ct,L(e("input",{type:"number",onKeydown:se(j,["enter"]),"onUpdate:modelValue":n[4]||(n[4]=s=>c.value.price=s)},null,544),[[a,E],[R,c.value.price]])])):p("",!0),rt,e("div",null,[e("button",{class:"mypost-button",style:{marginTop:"30px"},onClick:j},"Создать")])])):p("",!0),g.value===3?(i(),l("div",ut,[B.value?(i(),l("div",vt,[e("img",{src:b(Pe)},null,8,gt)])):(i(),l("div",dt,[e("img",{src:b(ke)},null,8,pt),ft]))])):p("",!0)]),x.value?(i(),l("div",mt,[e("button",{class:"mypost-button",style:{marginTop:"30px"},onClick:W},"Дальше")])):p("",!0)])):p("",!0),v.value==="posts"?(i(),l("div",ht,[(i(!0),l(z,null,O(b(t).posts,(s,H)=>(i(),l("div",{key:s.ID,style:{width:"100%"}},[e("div",_t,[e("div",yt,[e("img",{src:s.AvatarURL},null,8,bt),e("span",null,f(s.OwnerName),1)]),e("div",{class:"postImage",style:oe({filter:le(s.OwnerID,s.ID)?"blur(25px)":"blur(0px)"})},[e("img",{src:s.ImagePath,style:{maxWidth:"100%",height:"auto",width:"100%"}},null,8,xt)],4),e("div",Ct,[e("span",null,f(s.Description),1)]),ie(s.ID,s.OwnerID)?(i(),l("div",kt,[e("span",Pt,"🍆"+f(s.Price),1),e("button",{class:"boost-purchase-button",onClick:D=>U("unlock",s.ID,s.Price,null,null,null)},"Unlock",8,wt)])):p("",!0),s.Type!="vote"?(i(),l("div",It,[e("span",Tt,"Donated: 🍆"+f(s.Donated),1),e("button",{class:"boost-purchase-button",onClick:D=>U("donate",s.ID,s.Price,null,null,null)},"Donate",8,Dt)])):(i(),l("div",St,[e("div",Nt,[e("span",null,"Всего: "+f((s.VoteYes+s.VoteNo)*s.VotePrice)+"🍆",1)]),e("div",At,[e("div",Vt,[e("span",Mt,f(s.VoteYes)+" ✅",1),e("button",{class:"boost-purchase-button",style:{marginLeft:"15px",marginTop:"10px",height:"40px",backgroundColor:"#3f8b1e",display:"flex",justifyContent:"center",alignItems:"center"},onClick:D=>X(s.ID,"yes",s.VotePrice)},"Да "+f(s.VotePrice)+"🍆",9,$t)]),e("div",Bt,[e("span",Lt,f(s.VoteNo)+" ❌",1),e("button",{class:"boost-purchase-button",style:{marginRight:"15px",marginTop:"10px",height:"40px",backgroundColor:"#bc0e0e",display:"flex",justifyContent:"center",alignItems:"center"},onClick:D=>X(s.ID,"no",s.VotePrice)},"Нет "+f(s.VotePrice)+"🍆",9,jt)])])]))])]))),128))])):p("",!0),e("div",{class:S(["boost-purchase-popup",{visible:_.value=="unlock"||_.value=="donate"||_.value=="visible"||_.value=="change"}]),onClick:n[8]||(n[8]=()=>{_.value="close"})},[e("div",zt,[e("div",Ft,[e("h2",null,f(ue(_.value)),1),e("button",{class:"close-button",onClick:n[5]||(n[5]=()=>{_.value="close"})},Ht)]),_.value=="unlock"?(i(),l("div",Rt,[Wt,e("p",null,"🍆"+f(d.value.price),1),e("button",{class:"boost-purchase-button",style:{width:"100%"},onClick:ae},"Unlock post")])):p("",!0),_.value=="donate"?(i(),l("div",Et,[e("div",Gt,[L(e("input",{type:"range",min:"0",max:(r=b(t).user)==null?void 0:r.balance,class:"slider",id:"myRange","onUpdate:modelValue":n[6]||(n[6]=s=>N.value=s)},null,8,Kt),[[R,N.value]])]),e("p",null,"🍆"+f(N.value),1),N.value>0?(i(),l("button",{key:0,class:"boost-purchase-button",style:{width:"100%"},onClick:re},"Donate post")):p("",!0)])):p("",!0),_.value=="visible"?(i(),l("div",Ot,[e("img",{src:d.value.imagePath,style:{height:"200px",width:"100%",backgroundRepeat:"no-repeat",objectFit:"contain"}},null,8,Yt),d.value.decription!==""?(i(),l("p",qt,f(d.value.decription),1)):p("",!0),e("p",null,"Donated: 🍆"+f(d.value.donated),1)])):p("",!0),_.value=="change"?(i(),l("div",Zt,[e("div",Xt,[L(e("input",{type:"range",min:"0",max:((u=b(t).user)==null?void 0:u.posts_balance)!==null?(P=b(t).user)==null?void 0:P.posts_balance:0,class:"slider",id:"myRange","onUpdate:modelValue":n[7]||(n[7]=s=>A.value=s)},null,8,Jt),[[R,A.value]])]),e("p",null,"🍆"+f(A.value),1),A.value>0?(i(),l("button",{key:0,class:"boost-purchase-button",style:{width:"100%"},onClick:de},"Exchange")):p("",!0)])):p("",!0)])],2),v.value=="myposts"?(i(),l("div",Qt,[ee(Ne,{popupState:U}),(i(!0),l(z,null,O(b(t).myPosts,s=>(i(),l("div",{class:"postProfile",onClick:H=>U("visible",s.ID,s.Price,s.ImagePath,s.Description,s.Donated)},[ts,e("div",ss,[e("span",ns,"Пост: "+f(s.ID),1)])],8,es))),256))])):p("",!0)],64)}}}),ls=q(os,[["__scopeId","data-v-596cc175"]]);export{ls as default};
