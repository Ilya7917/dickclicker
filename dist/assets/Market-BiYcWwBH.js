import{u as O,j as Ce,k as T,d as Oe,l as Se,D as Ie,r as v,o as Me,c as n,t as a,m as p,e,F as b,p as C,v as pe,E as ye,h as q,g as l,x as he,A as R,b as o,y as Ae,z as De,_ as Te}from"./index-DMMWtzMg.js";import{u as Le,_ as $e}from"./channel-BD-ZAivX.js";import{A as je}from"./addIcon-B-w5o2bP.js";O();const Ue=Ce("marketStore",{state:()=>({orders:null,myOrders:null}),getters:{},actions:{async createNewOrder(c){console.log(c);const u=O(),d=await T.post("https://taptaptap.coinclicker.app/createOrder",{amount:c.amount,paymentMethods:c.paymentMethods,price:c.price},{headers:{"x-api-key":u.getAccessToken}});return console.log(d),!0},async fetchAllActiveOrders(){const c=O(),u=await T.get("https://taptaptap.coinclicker.app/orders",{headers:{"x-api-key":c.getAccessToken}});console.log(u);for(let d=0;d<u.data.orders.length;d++){const L=u.data.orders[d].PaymentMethods.split(",").map(U=>U.trim());u.data.orders[d].PaymentMethods=L,console.log(L)}return this.orders=u.data.orders,console.log(this.orders),!0},async createOrderMember(c,u){const d=O(),S=await T.post("https://taptaptap.coinclicker.app/createOrderMember",{id:c,owner_id:u},{headers:{"x-api-key":d.getAccessToken}});return console.log(S),!0},async fetchOrderMembers(c){const u=O(),d=await T.get("https://taptaptap.coinclicker.app/getOrderMembers",{headers:{"x-api-key":u.getAccessToken,id:c}});return console.log(d),d.data.members},async deleteMyOrder(c){const u=O(),d=await T.post("https://taptaptap.coinclicker.app/deleteOrder",{id:c},{headers:{"x-api-key":u.getAccessToken}});return console.log(d),!!d.data.sucess},async startOrder(c,u){const d=O(),S=await T.post("https://taptaptap.coinclicker.app/startOrder",{id:c,member_id:u},{headers:{"x-api-key":d.getAccessToken}});return console.log(S),!!S.data.sucess},async finishOrder(c){const u=O(),d=await T.post("https://taptaptap.coinclicker.app/finishOrder",{id:c},{headers:{"x-api-key":u.getAccessToken}});return console.log(d),!!d.data.sucess}}}),y=c=>(Ae("data-v-946c8d54"),c=c(),De(),c),Q=$e+"#chevron-right",ze={class:"telegram-channels"},Ne={key:0,class:"earn-title"},Pe={key:1,class:"createPostMenu"},Ve={style:{marginTop:"20px"}},Re={id:"progressbar"},Be={class:"createForm"},Fe={key:0,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},Ee=y(()=>e("label",{for:"fname"},"Количество коинов, которое вы планируете купить",-1)),We={key:1,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},qe=y(()=>e("label",{for:"fname",style:{fontSize:"18px"}},"Способ оплаты, который будет удобен вам",-1)),Qe={class:"sec-center",style:{marginTop:"20px"}},Ye=y(()=>e("input",{class:"dropdown",type:"checkbox",id:"dropdown",name:"dropdown"},null,-1)),Ge=y(()=>e("label",{class:"for-dropdown",for:"dropdown"},"Добавить способ оплаты",-1)),He={class:"section-dropdown"},Je=y(()=>e("i",{class:"uil uil-arrow-right"},"💳",-1)),Ke=y(()=>e("i",{class:"uil uil-arrow-right"},"💱",-1)),Xe=y(()=>e("i",{class:"uil uil-arrow-right"},"💵",-1)),Ze={key:0,style:{marginTop:"25px"}},et={style:{display:"flex"}},tt={style:{width:"200px",height:"50px",border:"3.5px solid gray",textAlign:"center",justifyContent:"center",alignItems:"center",display:"flex"}},st=["onClick"],nt=y(()=>e("span",null,"❌",-1)),ot=[nt],it={key:2,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},lt=y(()=>e("label",{for:"fname"},"За сколько вы хотите приобрести коины? (в USD)",-1)),at={key:0},rt={key:0,style:{display:"flex",justifyContent:"center"}},dt={key:2,style:{display:"flex",flexDirection:"column",justifyContent:"space-between"}},ct={style:{height:"40vh"}},ut={class:"channels-title",style:{display:"flex",justifyContent:"space-between"}},pt=["src"],yt={key:0,class:"channels-list"},ht={class:"channel-info",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},vt=["src"],mt={key:1,style:{height:"30px",width:"30px",borderRadius:"100px",background:"gray",justifyContent:"center",alignItems:"center",display:"flex"}},_t={class:"name",style:{marginLeft:"10px",fontSize:"18px"}},ft=["onClick"],xt={key:0,style:{display:"flex",flexDirection:"column"}},gt={key:0,style:{fontSize:"17px"}},kt={key:1},wt={key:2},bt={key:3,style:{display:"flex",flexDirection:"column"}},Ct={style:{border:"3.5px solid gray",width:"170px",textAlign:"center",marginTop:"7px"}},Ot={key:1,style:{fontSize:"20px"}},St=y(()=>e("div",{class:"channel-action"},[e("svg",{class:"arrow"},[e("use",{"xlink:href":Q})])],-1)),It={class:"channel-info",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},Mt=["src"],At={key:1,style:{height:"30px",width:"30px",borderRadius:"100px",background:"gray",justifyContent:"center",alignItems:"center",display:"flex"}},Dt={class:"name",style:{marginLeft:"10px",fontSize:"18px"}},Tt=["onClick"],Lt={key:0,style:{display:"flex",flexDirection:"column"}},$t={key:0,style:{fontSize:"17px"}},jt={key:1},Ut={style:{display:"flex",flexDirection:"column"}},zt={style:{border:"3.5px solid gray",width:"170px",textAlign:"center",marginTop:"7px"}},Nt={key:1,style:{fontSize:"20px"}},Pt=y(()=>e("div",{class:"channel-action"},[e("svg",{class:"arrow"},[e("use",{"xlink:href":Q})])],-1)),Vt={key:3},Rt={style:{display:"flex",justifyContent:"center"}},Bt={style:{fontSize:"30px",fontWeight:"bold"}},Ft={key:0},Et={style:{display:"flex",flexDirection:"column",marginLeft:"5%",marginTop:"20px"}},Wt={style:{display:"flex"}},qt={style:{fontSize:"23px"}},Qt=["src"],Yt={key:1,style:{height:"30px",width:"30px",borderRadius:"100px",background:"gray",justifyContent:"center",alignItems:"center",display:"flex"}},Gt={style:{fontSize:"23px"}},Ht={style:{fontSize:"23px"}},Jt={style:{border:"3.5px solid gray",width:"170px",textAlign:"center",marginTop:"7px"}},Kt={key:0,style:{display:"flex",justifyContent:"center",marginTop:"40px"}},Xt={key:1},Zt={key:0,style:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",marginTop:"30px"}},es={key:0},ts={key:1},ss={style:{fontSize:"19px"}},ns={key:2},os={style:{display:"flex",justifyContent:"center",marginTop:"20px"}},is={style:{fontSize:"23px"}},ls={key:1},as={style:{display:"flex",flexDirection:"column",marginLeft:"5%",marginTop:"20px"}},rs={style:{display:"flex"}},ds={style:{fontSize:"23px"}},cs=["src"],us={key:1,style:{height:"30px",width:"30px",borderRadius:"100px",background:"gray",justifyContent:"center",alignItems:"center",display:"flex"}},ps={style:{fontSize:"23px"}},ys=y(()=>e("span",{style:{fontSize:"23px"}},"Ваши сопсобы оплаты:",-1)),hs={style:{border:"3.5px solid gray",width:"170px",textAlign:"center",marginTop:"7px"}},vs={key:0,class:"orderSettingButtons",style:{display:"flex",justifyContent:"center",marginTop:"20px"}},ms={key:1},_s={key:0,style:{textAlign:"center",marginTop:"20px"}},fs={key:0},xs=y(()=>e("span",{style:{fontSize:"19px"}}," Желающие купить коины: ",-1)),gs=["onClick"],ks={class:"channel-info",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},ws=["src"],bs={key:1,style:{height:"30px",width:"30px",borderRadius:"100px",background:"gray",justifyContent:"center",alignItems:"center",display:"flex"}},Cs={class:"name",style:{marginLeft:"10px",fontSize:"18px"}},Os=y(()=>e("div",{class:"channel-action"},[e("svg",{class:"arrow"},[e("use",{"xlink:href":Q})])],-1)),Ss={key:1},Is={style:{fontSize:"23px"}},Ms={key:1,style:{textAlign:"center",marginTop:"20px"}},As=y(()=>e("span",{style:{fontSize:"19px",marginLeft:"-15px"}},"ⓘ Запросов на сделку ещё не поступало ⓘ",-1)),Ds=[As],Ts={key:2},Ls={style:{display:"flex",justifyContent:"center",marginTop:"20px"}},$s={style:{fontSize:"23px"}},js={key:0,class:"popup-content"},Us={class:"popup-header"},zs=y(()=>e("svg",{class:"close-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"16px",height:"16px"},[e("path",{d:"M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"})],-1)),Ns=[zs],Ps={style:{display:"flex",justifyContent:"center",marginTop:"20px"}},Vs={key:1,class:"popup-content"},Rs={class:"popup-header"},Bs=y(()=>e("svg",{class:"close-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"16px",height:"16px"},[e("path",{d:"M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"})],-1)),Fs=[Bs],Es={style:{display:"flex",justifyContent:"center",marginTop:"20px"}},Ws=Oe({__name:"Market",setup(c){Se(),Le();const u=Ie(),d=v(!1),S=v("member"),L=v(!1),U=O(),m=Ue(),x=v(0),$=()=>{m.fetchAllActiveOrders().then(r=>{if(r){if(m.orders&&x){const[s,h]=m.orders.reduce(([k,D],M)=>{const P=M.OwnerID==x.value,V=M.CloseWithUserID==x.value;return P||V?D.push(M):M.Status=="active"&&k.push(M),[k,D]},[[],[]]);m.orders=s,m.myOrders=h}L.value=!0}})},B=r=>{m.fetchOrderMembers(r).then(s=>{var h;s&&(g.value=s,((h=g.value)==null?void 0:h.findIndex(D=>D.UserID==x.value))==-1&&(E.value=!0))})};Me(()=>{var r,s;$(),((r=U.user)==null?void 0:r.id)!=null&&(x.value=(s=U.user)==null?void 0:s.id)}),v("visible");const I=v("market"),A=v(0),z=r=>{I.value=r},ve=v(!0),F=[{id:0,isActive:!0,text:"Add amount"},{id:1,isActive:!1,text:"Payment methods"},{id:2,isActive:!1,text:"Add price"}],me=()=>{A.value++,F[A.value].isActive=!0},_=v({amount:0,paymentMethods:[],price:0}),g=v();let i=v(void 0);const _e=v("order"),E=v(!1),W=r=>{if(_.value.paymentMethods.findIndex(s=>s==r)==-1)_.value.paymentMethods.push(r);else{R().showAlert("❌ Вы уже добавили этот метод оплаты ❌");return}},fe=r=>{_.value.paymentMethods.splice(_.value.paymentMethods.findIndex(s=>s==r),1)},j=r=>{switch(r){case"vm":return"Visa/MasterCard 💳";case"ton":return"TON wallet 💱";case"qiwi":return"Qiwi wallet 💵"}},xe=()=>{_.value.amount<=0&&R().showAlert("❌ Ошибка. Нельзя создать сделку с 0 количеством коинов"),_.value.paymentMethods.length==0&&R().showAlert("❌ Ошибка. Нужно добавить хотя бы 1 метод оплаты"),m.createNewOrder(_.value).then(()=>{$(),I.value="market",A.value=0,F.forEach(r=>{r.id!=0&&(r.isActive=!1)})})},N=(r,s)=>{I.value="visible",_e.value=r,i.value=s,console.log(i),B(s.ID)},ge=()=>{var r,s;i!=null&&((r=i.value)==null?void 0:r.ID)!=null&&(E.value=!1,m.createOrderMember((s=i.value)==null?void 0:s.ID,i.value.OwnerID).then(h=>{var k;h&&B(((k=i.value)==null?void 0:k.ID)!==void 0?i.value.ID:0)}))},ke=r=>{m.deleteMyOrder(r).then(s=>{s&&($(),L.value=!1,z("market"))})},w=v({ID:0,Username:"",MemberId:0}),Y=(r,s,h,k)=>{w.value.ID=r,w.value.Username=s,w.value.MemberId=h,d.value=!0,S.value=k},we=()=>{m.startOrder(w.value.ID,w.value.MemberId).then(r=>{var s,h;r&&(d.value=!1,$(),B(((s=i.value)==null?void 0:s.ID)!=null?(h=i.value)==null?void 0:h.ID:0),i.value&&(i.value.Status="progress"))})},be=()=>{i.value!=null&&m.finishOrder(i.value.ID).then(r=>{r&&(d.value=!1,I.value="market",$())})};return(r,s)=>{var h,k,D,M,P,V,G,H,J,K,X,Z,ee,te,se,ne,oe,ie,le,ae,re,de,ce,ue;return o(),n("div",ze,[I.value!="create"?(o(),n("div",Ne," 🛒 "+a(r.$t("bottomMenu.market")),1)):p("",!0),I.value==="create"?(o(),n("div",Pe,[e("button",{class:"mypost-button",style:{marginTop:"10px"},onClick:s[0]||(s[0]=t=>z("market"))},"Назад"),e("div",Ve,[e("ul",Re,[(o(),n(b,null,C(F,t=>e("li",{class:he(t.isActive?"active":"")},a(t.text),3)),64))])]),e("div",Be,[A.value===0?(o(),n("div",Fe,[Ee,pe(e("input",{type:"number",id:"fname",style:{width:"70%",color:"white"},name:"fname","onUpdate:modelValue":s[1]||(s[1]=t=>_.value.amount=t)},null,512),[[ye,_.value.amount]])])):p("",!0),A.value===1?(o(),n("div",We,[qe,e("div",Qe,[Ye,Ge,e("div",He,[e("a",{onClick:s[2]||(s[2]=t=>W("vm"))},[q("Visa/MasterCard "),Je]),e("a",{onClick:s[3]||(s[3]=t=>W("ton"))},[q("TON wallet "),Ke]),e("a",{onClick:s[4]||(s[4]=t=>W("qiwi"))},[q("Qiwi wallet"),Xe])]),_.value.paymentMethods.length>0?(o(),n("div",Ze,[(o(!0),n(b,null,C(_.value.paymentMethods,t=>(o(),n("div",et,[e("div",tt,[e("span",null,a(j(t)),1)]),e("div",{style:{height:"50px",border:"3.5px solid white",width:"50px",display:"flex",justifyContent:"center",alignItems:"center"},onClick:f=>fe(t)},ot,8,st)]))),256))])):p("",!0)])])):p("",!0),A.value===2?(o(),n("div",it,[lt,pe(e("input",{type:"number",id:"fname",style:{width:"70%",color:"white"},name:"fname","onUpdate:modelValue":s[5]||(s[5]=t=>_.value.price=t)},null,512),[[ye,_.value.price]]),ve.value?(o(),n("div",at,[e("button",{class:"mypost-button",style:{marginTop:"30px"},onClick:s[6]||(s[6]=t=>xe())},"Создать")])):p("",!0)])):p("",!0)]),A.value<2?(o(),n("div",rt,[e("button",{class:"mypost-button",style:{marginTop:"30px"},onClick:me},"Дальше")])):p("",!0)])):p("",!0),I.value=="market"?(o(),n("div",dt,[e("div",ct,[e("div",ut,[e("button",{class:"boost-purchase-button",style:{margin:"15px 25px"},onClick:s[7]||(s[7]=()=>{})},"Купить"),e("button",{class:"boost-purchase-button",style:{margin:"15px 25px",opacity:"0.4"},onClick:s[8]||(s[8]=t=>l(R)().showAlert("🛠️ Coming soon"))},"Продать")]),e("div",{style:{display:"flex",width:"100%",justifyContent:"flex-end"},onClick:s[9]||(s[9]=t=>z("create"))},[e("img",{src:l(je),alt:"Your Icon",style:{height:"45px",marginRight:"15px"}},null,8,pt)]),L.value?(o(),n("div",yt,[(o(!0),n(b,null,C(l(m).myOrders,t=>(o(),n("div",{id:"MyOrders",key:t.ID,onClick:s[10]||(s[10]=()=>{}),class:"channel"},[e("div",ht,[t.OwnerAvatar!=null&&t.OwnerAvatar!=""?(o(),n("img",{key:0,src:t.OwnerAvatar,style:{height:"30px",borderRadius:"100px"}},null,8,vt)):(o(),n("div",mt,"👤")),e("span",_t,a(t.OwnerName),1)]),e("div",{onClick:f=>t.OwnerID!==x.value?N("order",t):N("me",t)},[t.OwnerID!==x.value?(o(),n("div",xt,[t.Status=="active"?(o(),n("span",gt,"хочет купить "+a(t.Amount)+"🍆 за "+a(t.Price)+"💲",1)):p("",!0),t.Status=="progress"?(o(),n("span",kt,"сделка в процессе ⏳")):(o(),n("span",wt,"сделка закрыта ✅")),t.Status!="closed"?(o(),n("div",bt,[(o(!0),n(b,null,C(t.PaymentMethods,f=>(o(),n("div",Ct,[e("span",null,a(j(f)),1)]))),256))])):p("",!0)])):(o(),n("span",Ot,a(t.Status=="active"||t.Status=="progress"?`ваша сделка 👑 ${t.Status=="progress"?"⏳":""}`:"сделка закрыта ✅"),1))],8,ft),St]))),128)),(o(!0),n(b,null,C(l(m).orders,t=>(o(),n("div",{id:"AllOrders",key:t.ID,onClick:s[11]||(s[11]=()=>{}),class:"channel"},[e("div",It,[t.OwnerAvatar!=null&&t.OwnerAvatar!=""?(o(),n("img",{key:0,src:t.OwnerAvatar,style:{height:"30px",borderRadius:"100px"}},null,8,Mt)):(o(),n("div",At,"👤")),e("span",Dt,a(t.OwnerName),1)]),e("div",{onClick:f=>t.OwnerID!==x.value?N("order",t):N("me",t)},[t.OwnerID!==x.value?(o(),n("div",Lt,[t.Status=="active"?(o(),n("span",$t,"хочет купить "+a(t.Amount)+"🍆 за "+a(t.Price)+"💲",1)):(o(),n("span",jt,"сделка в процессе ⏳")),e("div",Ut,[(o(!0),n(b,null,C(t.PaymentMethods,f=>(o(),n("div",zt,[e("span",null,a(j(f)),1)]))),256))])])):(o(),n("span",Nt,"ваша сделка 👑 "+a(t.Status=="progress"?"⏳":""),1))],8,Tt),Pt]))),128))])):p("",!0)])])):p("",!0),I.value=="visible"?(o(),n("div",Vt,[e("button",{class:"boost-purchase-button",style:{width:"40%"},onClick:s[12]||(s[12]=t=>z("market"))},"Назад"),e("div",Rt,[e("span",Bt,a(((h=l(i))==null?void 0:h.OwnerID)!==x.value?"":"Ваш ")+" Ордер №"+a((k=l(i))==null?void 0:k.ID),1)]),((D=l(i))==null?void 0:D.OwnerID)!==x.value?(o(),n("div",Ft,[e("div",Et,[e("div",Wt,[e("span",qt,"Пользователь: "+a((M=l(i))==null?void 0:M.OwnerName),1),((P=l(i))==null?void 0:P.OwnerAvatar)!=null?(o(),n("img",{key:0,src:l(i).OwnerAvatar,style:{height:"30px",borderRadius:"100px"}},null,8,Qt)):(o(),n("div",Yt,"👤"))]),e("div",null,[e("span",Gt,"Хочет купить "+a((V=l(i))==null?void 0:V.Amount)+"🍆 за "+a((G=l(i))==null?void 0:G.Price)+"💲",1)]),e("div",null,[e("span",Ht,"Предпочтительные способы оплаты для "+a((H=l(i))==null?void 0:H.OwnerName)+":",1),e("div",null,[(o(!0),n(b,null,C((J=l(i))==null?void 0:J.PaymentMethods,t=>(o(),n("div",Jt,[e("span",null,a(j(t)),1)]))),256))])])]),E.value&&((K=l(i))==null?void 0:K.Status)=="active"?(o(),n("div",Kt,[e("button",{class:"boost-purchase-button",style:{width:"70%",backgroundColor:"#3f8b1e"},onClick:s[13]||(s[13]=t=>ge())},"Продать 🍆 "+a((X=l(i))==null?void 0:X.OwnerName)+"`y",1)])):p("",!0),((Z=l(i))==null?void 0:Z.Status)!="closed"?(o(),n("div",Xt,[g.value!=null&&((ee=g.value)==null?void 0:ee.findIndex(t=>t.UserID==x.value))!==-1?(o(),n("div",Zt,[((te=l(i))==null?void 0:te.Status)=="active"?(o(),n("span",es,"Ваш запрос успешно создан, вы начнёте сделку, когда пользователь "+a((se=l(i))==null?void 0:se.OwnerName)+" примет ваш запрос",1)):(o(),n("div",ts,[e("span",ss,a((ne=l(i))==null?void 0:ne.OwnerName)+" принял ваш запрос на сделку",1),e("button",{class:"boost-purchase-button",style:{width:"70%",marginTop:"30px"},onClick:s[14]||(s[14]=t=>{var f;return l(u).openTelegramLink(`https://t.me/${(f=l(i))==null?void 0:f.OwnerName}`)})},"Связаться с "+a((oe=l(i))==null?void 0:oe.OwnerName),1),e("button",{class:"boost-purchase-button",style:{width:"70%",marginTop:"30px"},onClick:s[15]||(s[15]=t=>{var f;return l(i)!=null?Y((f=l(i))==null?void 0:f.ID,l(i).OwnerName,l(i).OwnerID,"confirm"):null})},"Отпустить коины")]))])):p("",!0)])):(o(),n("div",ns,[e("div",os,[e("span",is,"Вы закрыли сделку с: "+a((ie=l(i))==null?void 0:ie.OwnerName),1)])]))])):(o(),n("div",ls,[e("div",as,[e("div",rs,[e("span",ds,a((le=l(i))==null?void 0:le.OwnerName),1),((ae=l(i))==null?void 0:ae.OwnerAvatar)!=null?(o(),n("img",{key:0,src:l(i).OwnerAvatar,style:{height:"30px",borderRadius:"100px"}},null,8,cs)):(o(),n("div",us,"👤"))]),e("div",null,[e("span",ps,"Собираетесь купить "+a((re=l(i))==null?void 0:re.Amount)+"🍆 за "+a((de=l(i))==null?void 0:de.Price)+"💲",1)]),e("div",null,[ys,e("div",null,[(o(!0),n(b,null,C((ce=l(i))==null?void 0:ce.PaymentMethods,t=>(o(),n("div",hs,[e("span",null,a(j(t)),1)]))),256))])]),l(i).Status=="active"?(o(),n("div",vs,[e("button",{class:"boost-purchase-button",style:{width:"60%"},onClick:s[16]||(s[16]=t=>ke(l(i).ID))},"Удалить сделку")])):p("",!0),l(i).Status!="closed"?(o(),n("div",ms,[g.value!=null&&((ue=g.value)==null?void 0:ue.length)>0?(o(),n("div",_s,[l(i).Status=="active"?(o(),n("div",fs,[xs,(o(!0),n(b,null,C(g.value,t=>(o(),n("div",{key:t.ID,onClick:f=>Y(t.OrderID,t.Username,t.UserID,"member"),class:"channel",style:{marginLeft:"-10px"}},[e("div",ks,[t.UserAvatar!=null&&t.UserAvatar!==""?(o(),n("img",{key:0,src:t.UserAvatar,style:{height:"30px",borderRadius:"100px"}},null,8,ws)):(o(),n("div",bs,"👤")),e("span",Cs,a(t.Username),1)]),Os],8,gs))),128))])):(o(),n("div",Ss,[e("span",Is,"Вы торгуете с: "+a(g.value[0].Username),1),e("button",{class:"boost-purchase-button",style:{width:"80%",marginTop:"30px"},onClick:s[17]||(s[17]=t=>l(u).openTelegramLink(`https://t.me/${g.value[0].Username}`))},"Связаться с "+a(g.value[0].Username),1)]))])):(o(),n("div",Ms,Ds))])):(o(),n("div",Ts,[e("div",Ls,[e("span",$s,"Вы закрыли сделку с: "+a(g.value!=null?g.value[0].Username:""),1)])]))])]))])):p("",!0),d.value?(o(),n("div",{key:4,class:he(["boost-purchase-popup",{visible:d.value}])},[S.value=="member"?(o(),n("div",js,[e("div",Us,[e("h2",null,a(w.value.Username),1),e("button",{class:"close-button",onClick:s[18]||(s[18]=t=>{d.value=!1})},Ns)]),e("div",null,[e("span",null,"Отправил вам запрос на сделку, хотите торговать с "+a(w.value.Username)+"?",1)]),e("div",Ps,[e("button",{class:"boost-purchase-button",style:{width:"60%"},onClick:s[19]||(s[19]=t=>we())},"Начать сделку")])])):(o(),n("div",Vs,[e("div",Rs,[e("h2",null,"Сделка с "+a(w.value.Username),1),e("button",{class:"close-button",onClick:s[20]||(s[20]=t=>{d.value=!1})},Fs)]),e("div",null,[e("span",null,"Нажимая кнопку ниже вы подтверждаете, что получили платёж от "+a(w.value.Username),1)]),e("div",Es,[e("button",{class:"boost-purchase-button",style:{width:"60%"},onClick:s[21]||(s[21]=t=>be())},"Отпустить коины")])]))],2)):p("",!0)])}}}),Gs=Te(Ws,[["__scopeId","data-v-946c8d54"]]);export{Gs as default};
