import{d as S,u as B,r as n,o as C,K as U,b as I,c as x,e as t,C as N,L as P,n as T,x as E,y as F,z as H,_ as $}from"./index-0Q334v3g.js";import{u as D}from"./games-DIt62x2i.js";const v=d=>(F("data-v-6d6747d4"),d=d(),H(),d),M=["width","height"],z={id:"unity-loading-bar"},A=v(()=>t("div",{id:"unity-logo"},null,-1)),G={id:"unity-progress-bar-empty"},W=v(()=>t("div",{id:"unity-webgl-logo"},null,-1)),j=v(()=>t("div",{id:"unity-build-title"},"FlappyDick",-1)),r="BuildTown",L=S({__name:"Town",setup(d){D();const u=B(),m=n("unity-desktop"),h=n(960),p=n(600),y=n("0%"),c=n(!0),g=n(0),f=n(null),i=n(null),o=n(null),w=`${r}/buildes.loader.js`,_={dataUrl:`${r}/buildes.data`,frameworkUrl:`${r}/buildes.framework.js`,codeUrl:`${r}/buildes.wasm`,streamingAssetsUrl:"",companyName:"DefaultCompany",productName:"FlappyDick",productVersion:"0.1",showBanner:(e,s)=>{if(o.value){const a=document.createElement("div");a.innerHTML=e,o.value.appendChild(a),s==="error"?a.style.background="red":s==="warning"&&(a.style.background="yellow"),a.style.padding="10px",setTimeout(()=>{o.value&&o.value.removeChild(a)},5e3)}}},b=e=>{y.value=`${100*e}%`,e==1&&console.log("load Finish")},k=()=>{var e;(e=i.value)==null||e.SetFullscreen(1)};return window.GetSkins=function(){i.value.SendMessage("GameManager","OnInitSkins",u.skins)},C(async()=>{var s,a;if(((s=u.user)==null?void 0:s.id)!=null&&(g.value=(a=u.user)==null?void 0:a.id),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){const l=document.createElement("meta");l.name="viewport",l.content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes",document.getElementsByTagName("head")[0].appendChild(l),m.value="unity-mobile",h.value=window.innerWidth,p.value=window.innerHeight}c.value=!0;const e=document.createElement("script");e.src=w,e.onload=async()=>{try{i.value=await createUnityInstance(f.value,_,b),c.value=!1}catch(l){alert(l)}},document.body.appendChild(e)}),U(()=>{i.value&&i.value.Quit().then(()=>{i.value=null})}),n({userHP:0,userName:"",enemyHP:0,enemyName:""}),n(0),(e,s)=>(I(),x("div",{id:"unity-container",class:E(m.value)},[t("canvas",{id:"unity-canvas",ref_key:"canvas",ref:f,width:h.value,height:p.value,tabindex:"-1"},null,8,M),N(t("div",z,[A,t("div",G,[t("div",{id:"unity-progress-bar-full",style:T({width:y.value})},null,4)])],512),[[P,c.value]]),t("div",{id:"unity-warning",ref_key:"warningBanner",ref:o},null,512),t("div",{id:"unity-footer"},[W,t("div",{id:"unity-fullscreen-button",onClick:k}),j])],2))}}),O=$(L,[["__scopeId","data-v-6d6747d4"]]);export{O as default};
