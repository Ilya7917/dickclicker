import{B as V}from"./Balance-C2I94Vlw.js";import{d as E,u as B,r as z,o as b,c as M,a as t,n as D,b as k,t as m,e as c,w as f,F as I,f as _,_ as N,g as C,h as P,i as Z,Z as L,s as x}from"./index-jRvD4Ae5.js";const O={class:"energy-section"},j={class:"energy"},q={class:"energy-progress-bar"},A={class:"energy-info"},G={class:"energy-value"},H={class:"bottom-menu"},J={class:"menu-items"},K=E({__name:"BottomMenu",setup(R){const n=B();return(l,r)=>{var a,v,g;const o=z("router-link");return b(),M(I,null,[t("div",O,[t("div",j,[t("div",q,[t("div",{class:"energy-progress",style:D({width:(((a=k(n).user)==null?void 0:a.energy)??0)/(1e3+(((v=k(n).user)==null?void 0:v.max_energy_level)??0)*500)*100+"%"})},null,4)]),t("div",A,[t("span",G,"⚡"+m((g=k(n).user)==null?void 0:g.energy),1)])])]),t("div",H,[t("div",J,[c(o,{class:"menu-item",to:"/leaderboard",tag:"button"},{default:f(()=>[_(" 🏆 "),t("span",null,m(l.$t("bottomMenu.top")),1)]),_:1}),c(o,{class:"menu-item",to:"/channels",tag:"button"},{default:f(()=>[_(" 💰 "),t("span",null,m(l.$t("bottomMenu.earn")),1)]),_:1}),c(o,{class:"menu-item",to:"/skins",tag:"button"},{default:f(()=>[_(" 🍆 "),t("span",null,m(l.$t("bottomMenu.skins")),1)]),_:1}),c(o,{class:"menu-item",to:"/referrals",tag:"button"},{default:f(()=>[_(" 🧑‍🤝‍🧑 "),t("span",null,m(l.$t("bottomMenu.referrals")),1)]),_:1}),c(o,{class:"menu-item",to:"/posts",tag:"button"},{default:f(()=>[_(" 🌐 "),t("span",null,m(l.$t("bottomMenu.posts")),1)]),_:1}),c(o,{class:"menu-item",to:"/boosts",tag:"button"},{default:f(()=>[_(" 🚀 "),t("span",null,m(l.$t("bottomMenu.boosts")),1)]),_:1})])])],64)}}}),Q=N(K,[["__scopeId","data-v-4f73be8d"]]),W=["src"],ee=["src"],te=E({__name:"Miner",setup(R){const n=B(),{getCurrentSkin:l}=n,r=C(null),o=C(0);let a;const v=()=>{console.log(`Кількість натискань: ${o.value}`),n.sendMineCoins(o.value),o.value=0},g=()=>{o.value+=1,a&&clearTimeout(a),a=setTimeout(v,300)};P(()=>{}),Z(()=>{a&&clearTimeout(a)});const T=C(null),X=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,Y=(s,i,u)=>{var h;const e=document.createElement("div");e.textContent=s.toString(),e.style.position="absolute",e.style.left=`${i}px`,e.style.top=`${u}px`,n.user&&n.user.is_premium?e.style.color="#ff9900":e.style.color="white",e.style.userSelect="none",e.style.pointerEvents="none",e.style.fontSize="40px",e.style.transform="translate(-50%, -50%)",e.classList.add("flying-number"),(h=T.value)==null||h.appendChild(e),setTimeout(()=>{e.remove()},1e3)};function F(s){return window.TouchEvent!==void 0?s instanceof TouchEvent:s.touches!==void 0}const y=s=>{var S;if(!n.user||!r.value||s.type==="mousedown"&&X())return;let i,u;if(F(s)){const p=s;i=p.touches[0].clientX,u=p.touches[0].clientY}else{const p=s;i=p.clientX,u=p.clientY}const e=(S=T.value)==null?void 0:S.getBoundingClientRect(),h=i-((e==null?void 0:e.left)??0),U=u-((e==null?void 0:e.top)??0);if(n.user.energy>n.user.mine_level){n.mineCoins();var w=1;n.user.is_premium&&(w=2),Y(n.user.mine_level*w,h,U),L().impactOccurred("light"),g()}r.value.style.transform="scale(0.98)"},d=()=>{r.value&&(r.value.style.transform="",r.value.style.transform="scale(1)")},$=()=>{let s=x.findIndex(i=>i.id==l);return console.log(`Index is : ${s}`),x[s].skin};return(s,i)=>{var u;return b(),M(I,null,[t("main",null,[c(V),t("div",{class:"coin-container numbers-container",ref_key:"numbersContainerRef",ref:T},[(u=k(n).user)!=null&&u.is_premium?(b(),M("img",{key:0,src:$(),alt:"Premium Coin",class:"coin",ref_key:"coinRef",ref:r,onMousedown:y,onTouchstart:y,onMouseup:d,onMouseleave:d,onTouchend:d},null,40,W)):(b(),M("img",{key:1,src:$(),class:"coin",alt:"Regular Coin",ref_key:"coinRef",ref:r,onMousedown:y,onTouchstart:y,onMouseup:d,onMouseleave:d,onTouchend:d},null,40,ee))],512)]),c(Q)],64)}}}),oe=N(te,[["__scopeId","data-v-9ca8c89b"]]);export{oe as default};
