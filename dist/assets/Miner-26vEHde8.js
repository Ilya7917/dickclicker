import{B as L}from"./Balance-BPAaHDBV.js";import{d as N,u as X,r as h,o as Y,a as P,b as $,c as R,e,t as u,f as x,g as c,w as _,n as U,F as j,h as g,_ as z,i as V,Z as D,s as I}from"./index-Bpg1W8c_.js";const H={class:"energy-section"},Z={class:"energy-progress-bar"},O={class:"energy-info"},q={class:"energy-value"},A={class:"bottom-menu"},G={class:"menu-items"},J=N({__name:"BottomMenu",setup(F){const n=X(),b=h(null),l=h(null),m=h(null),p=()=>{if(b.value&&l.value&&m.value){const o=b.value.getBoundingClientRect();l.value.style.bottom=`${window.innerHeight-o.top+20}px`,m.value.style.bottom=`${window.innerHeight-o.top+20}px`}};return Y(async()=>{p()}),(o,B)=>{var C,M,T,y;const i=P("router-link");return $(),R(j,null,[e("div",H,[e("div",{ref_key:"withdrawalBalanceRef",ref:m,style:{left:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[e("span",null,"Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ Ð½Ð° Ð²Ñ‹Ð²Ð¾Ð´: "+u((C=x(n).user)==null?void 0:C.withdrawal_balance)+"ðŸ†",1)],512),e("div",{ref_key:"skinsRef",ref:l,style:{right:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[c(i,{class:"menu-item",style:{fontSize:"35px"},to:"/skins",tag:"button"},{default:_(()=>[g(" ðŸ† "),e("span",null,u(o.$t("bottomMenu.skins")),1)]),_:1})],512),e("div",{ref_key:"energyRef",ref:b,class:"energy"},[e("div",Z,[e("div",{class:"energy-progress",style:U({width:(((M=x(n).user)==null?void 0:M.energy)??0)/(1e3+(((T=x(n).user)==null?void 0:T.max_energy_level)??0)*500)*100+"%"})},null,4)]),e("div",O,[e("span",q,"âš¡"+u((y=x(n).user)==null?void 0:y.energy),1)])],512)]),e("div",A,[e("div",G,[c(i,{class:"menu-item",to:"/leaderboard",tag:"button"},{default:_(()=>[g(" ðŸ† "),e("span",null,u(o.$t("bottomMenu.top")),1)]),_:1}),c(i,{class:"menu-item",to:"/channels",tag:"button"},{default:_(()=>[g(" ðŸ“‹ "),e("span",null,u(o.$t("bottomMenu.earn")),1)]),_:1}),c(i,{class:"menu-item",to:"/market",tag:"button"},{default:_(()=>[g(" ðŸ›’ "),e("span",null,u(o.$t("bottomMenu.market")),1)]),_:1}),c(i,{class:"menu-item",to:"/slots",tag:"button"},{default:_(()=>[g(" ðŸŽ° "),e("span",null,u(o.$t("slots.bottom")),1)]),_:1}),c(i,{class:"menu-item",to:"/posts",tag:"button"},{default:_(()=>[g(" ðŸŒ "),e("span",null,u(o.$t("bottomMenu.posts")),1)]),_:1}),c(i,{class:"menu-item",to:"/boosts",tag:"button"},{default:_(()=>[g(" ðŸš€ "),e("span",null,u(o.$t("bottomMenu.boosts")),1)]),_:1})])])],64)}}}),K=z(J,[["__scopeId","data-v-0f41796b"]]),Q=["src"],W=["src"],ee=N({__name:"Miner",setup(F){const n=X(),{getCurrentSkin:b}=n,l=h(null),m=h(0);let p;const o=()=>{console.log(`ÐšÑ–Ð»ÑŒÐºÑ–ÑÑ‚ÑŒ Ð½Ð°Ñ‚Ð¸ÑÐºÐ°Ð½ÑŒ: ${m.value}`),n.sendMineCoins(m.value),m.value=0},B=()=>{m.value+=1,p&&clearTimeout(p),p=setTimeout(o,300)};Y(()=>{window.scrollTo(0,0)}),V(()=>{p&&clearTimeout(p)});const i=h(null),C=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,M=(s,d,f)=>{var w;const t=document.createElement("div");t.style.position="absolute",t.style.left=`${d}px`,t.style.top=`${f}px`,t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.transform="translate(-50%, -50%)";const a=document.createElement("div");a.textContent=s.toString(),n.user&&n.user.is_premium?a.style.color="#ff9900":a.style.color="white",a.style.userSelect="none",a.style.pointerEvents="none",a.style.fontSize="40px",a.classList.add("flying-number");const r=document.createElement("img");r.src=E(),r.style.width="35px",r.style.height="35px",r.style.marginLeft="50px",r.style.marginRight="8px",r.classList.add("flying-number"),t.appendChild(r),t.appendChild(a),(w=i.value)==null||w.appendChild(t),setTimeout(()=>{t.remove()},1e3)};function T(s){return window.TouchEvent!==void 0?s instanceof TouchEvent:s.touches!==void 0}const y=s=>{var S;if(!n.user||!l.value||s.type==="mousedown"&&C())return;let d,f;if(T(s)){const k=s;d=k.touches[0].clientX,f=k.touches[0].clientY}else{const k=s;d=k.clientX,f=k.clientY}const t=(S=i.value)==null?void 0:S.getBoundingClientRect(),a=d-((t==null?void 0:t.left)??0),r=f-((t==null?void 0:t.top)??0);if(n.user.energy>n.user.mine_level){n.mineCoins();var w=1;n.user.is_premium&&(w=2),M(n.user.mine_level*w,a,r),D().impactOccurred("light"),B()}l.value.style.transform="scale(0.98)"},v=()=>{l.value&&(l.value.style.transform="",l.value.style.transform="scale(1)")},E=()=>{let s=I.findIndex(d=>d.id==b);return console.log(`Index is : ${s}`),I[s].skin};return(s,d)=>{var f;return $(),R(j,null,[e("main",null,[c(L),e("div",{class:"coin-container numbers-container",ref_key:"numbersContainerRef",ref:i},[(f=x(n).user)!=null&&f.is_premium?($(),R("img",{key:0,src:E(),alt:"Premium Coin",class:"coin",ref_key:"coinRef",ref:l,onMousedown:y,onTouchstart:y,onMouseup:v,onMouseleave:v,onTouchend:v},null,40,Q)):($(),R("img",{key:1,src:E(),class:"coin",alt:"Regular Coin",ref_key:"coinRef",ref:l,onMousedown:y,onTouchstart:y,onMouseup:v,onMouseleave:v,onTouchend:v},null,40,W))],512)]),c(K)],64)}}}),se=z(ee,[["__scopeId","data-v-eedbf224"]]);export{se as default};
