import{j as E,u as f,k as v,d as I,l as M,b as t,c as o,e as s,t as r,f as d,m as p,F as B,p as j,_ as A,o as P,r as U,q as g}from"./index-DriXmh7Y.js";const N=E("leaderboard",{state:()=>({leaderboard:null,lastFetch:0,dailyLeaderboard:null,dailyLastFetch:0,monthlyLeaderboard:null,monthlyLastFetch:0}),actions:{async fetchLeaderboard(){const n=Date.now();if(!(n-this.lastFetch<60*1e3&&this.leaderboard))try{const e=f(),a=await v.get("https://taptaptap.coinclicker.app/leaderboard",{headers:{"x-api-key":e.getAccessToken}});this.leaderboard=a.data,this.lastFetch=n}catch(e){console.error("Error fetching data:",e)}},async fetchDailyLeaderboard(){const n=Date.now();if(!(n-this.dailyLastFetch<60*1e3&&this.dailyLeaderboard))try{const e=f(),a=await v.get("https://taptaptap.coinclicker.app/leaderboard/daily",{headers:{"x-api-key":e.getAccessToken}});this.dailyLeaderboard=a.data,this.dailyLastFetch=n}catch(e){console.error("Error fetching data:",e)}},async fetchMonthlyLeaderboard(){const n=Date.now();if(!(n-this.monthlyLastFetch<60*1e3&&this.monthlyLeaderboard))try{const e=f(),a=await v.get("https://taptaptap.coinclicker.app/leaderboard/monthly",{headers:{"x-api-key":e.getAccessToken}});this.monthlyLeaderboard=a.data,this.monthlyLastFetch=n}catch(e){console.error("Error fetching data:",e)}}}}),V={class:"leaderboard-title"},q={class:"leaderboard-list"},z={key:0,class:"player you"},G={class:"avatar",style:{display:"flex",alignItems:"center",justifyContent:"center"}},H=["src","alt"],J={key:1,class:"initials"},K={key:0,class:"player-info"},O={class:"name"},Q={class:"player-score"},R={key:1,class:"player-info"},W={class:"name"},X={class:"player-score"},Y={class:"rank"},Z={class:"avatar",style:{display:"flex",alignItems:"center",justifyContent:"center"}},x=["src","alt"],ee={key:1,class:"initials"},ae={class:"player-info"},te={key:0,class:"name"},oe={key:1},re={class:"player-score"},se=I({__name:"LeaderboardItem",props:{leaderboard:{},balance:{},leaderBoardTitle:{}},setup(n){const{t:e}=M();return(a,k)=>{var L,b,h,i,l,y,u,_,m,S,F,T,w,C;return t(),o(B,null,[s("div",V," 🏆 "+r(a.$t(a.leaderBoardTitle)),1),s("div",q,[a.leaderboard.me!=null?(t(),o("div",z,[s("span",G,[(b=(L=a.leaderboard)==null?void 0:L.me)!=null&&b.avatar_url?(t(),o("img",{key:0,src:(h=a.leaderboard)==null?void 0:h.me.avatar_url,alt:(i=a.leaderboard)==null?void 0:i.me.identity},null,8,H)):(t(),o("div",J,r((u=(y=(l=a.leaderboard)==null?void 0:l.me)==null?void 0:y.identity)==null?void 0:u.substring(0,2).toUpperCase()),1))]),a.leaderBoardTitle=="top.topBalance"?(t(),o("div",K,[s("span",O,r(d(e)("top.yourPlace",{place:(m=(_=a.leaderboard)==null?void 0:_.me)==null?void 0:m.position})),1),s("span",Q,"🐥 "+r(a.balance.toLocaleString()),1)])):(t(),o("div",R,[s("span",W,r(d(e)("top.yourPlace",{place:(F=(S=a.leaderboard)==null?void 0:S.me)==null?void 0:F.position})),1),s("span",X,"🐥 +"+r((w=(T=a.leaderboard)==null?void 0:T.me)==null?void 0:w.score.toLocaleString()),1)]))])):p("",!0),(t(!0),o(B,null,j((C=a.leaderboard)==null?void 0:C.players,(c,D)=>(t(),o("div",{key:c.id,class:"player"},[s("span",Y,r(D==0?"👑":D+1+"."),1),s("span",Z,[c.avatar_url?(t(),o("img",{key:0,src:c.avatar_url,alt:c.identity},null,8,x)):(t(),o("div",ee,r(c.identity.substring(0,2).toUpperCase()),1))]),s("div",ae,[c.is_premium?(t(),o("span",te,r(c.identity),1)):(t(),o("span",oe,r(c.identity),1)),s("span",re,"🐥 "+r(a.leaderBoardTitle!="top.topBalance"?"+":"")+" "+r(c.score.toLocaleString()),1)])]))),128))])],64)}}}),$=A(se,[["__scopeId","data-v-eafbe3c2"]]),de={class:"tabs"},ne={key:0,class:"leaderboard"},le={key:1,class:"leaderboard"},ce={key:2,class:"leaderboard"},ie=I({__name:"Leaderboard",setup(n){const e=N(),k=f().user;P(()=>{e.fetchDailyLeaderboard(),e.fetchMonthlyLeaderboard(),e.fetchLeaderboard()});const{t:L}=M();L("top.yourPlace",{place:123});const b=U("Day"),h=i=>{b.value=i};return(i,l)=>{var y,u,_;return t(),o(B,null,[s("div",de,[s("button",{onClick:l[0]||(l[0]=m=>h("Day")),class:"tab"},r(i.$t("top.day")),1),s("button",{onClick:l[1]||(l[1]=m=>h("Month")),class:"tab"},r(i.$t("top.month")),1),s("button",{onClick:l[2]||(l[2]=m=>h("Balance")),class:"tab"},r(i.$t("top.balance")),1)]),b.value==="Day"?(t(),o("div",ne,[d(e).dailyLeaderboard?(t(),g($,{key:0,leaderboard:d(e).dailyLeaderboard,balance:((y=d(k))==null?void 0:y.balance)||0,"leader-board-title":"top.topToday"},null,8,["leaderboard","balance"])):p("",!0)])):p("",!0),b.value==="Month"?(t(),o("div",le,[d(e).monthlyLeaderboard?(t(),g($,{key:0,leaderboard:d(e).monthlyLeaderboard,balance:((u=d(k))==null?void 0:u.balance)||0,"leader-board-title":"top.topMonth"},null,8,["leaderboard","balance"])):p("",!0)])):p("",!0),b.value==="Balance"?(t(),o("div",ce,[d(e).monthlyLeaderboard?(t(),g($,{key:0,leaderboard:d(e).monthlyLeaderboard,balance:((_=d(k))==null?void 0:_.balance)||0,"leader-board-title":"top.topBalance"},null,8,["leaderboard","balance"])):p("",!0)])):p("",!0)],64)}}}),pe=A(ie,[["__scopeId","data-v-4949cc89"]]);export{pe as default};
