import{j as se,u as b,k as v,d as oe,o as re,l as ne,r as de,b as t,c as a,e as s,t as r,f as n,m as h,F as u,p as k,_ as ie}from"./index-CdNx0sMa.js";const le=se("leaderboard",{state:()=>({leaderboard:null,lastFetch:0,dailyLeaderboard:null,dailyLastFetch:0,monthlyLeaderboard:null,monthlyLastFetch:0}),actions:{async fetchLeaderboard(){const d=Date.now();if(!(d-this.lastFetch<60*1e3&&this.leaderboard))try{const e=b(),l=await v.get("https://taptaptap.coinclicker.app/leaderboard",{headers:{"x-api-key":e.getAccessToken}});this.leaderboard=l.data,this.lastFetch=d}catch(e){console.error("Error fetching data:",e)}},async fetchDailyLeaderboard(){const d=Date.now();if(!(d-this.dailyLastFetch<60*1e3&&this.dailyLeaderboard))try{const e=b(),l=await v.get("https://taptaptap.coinclicker.app/leaderboard/daily",{headers:{"x-api-key":e.getAccessToken}});this.dailyLeaderboard=l.data,this.dailyLastFetch=d}catch(e){console.error("Error fetching data:",e)}},async fetchMonthlyLeaderboard(){const d=Date.now();if(!(d-this.monthlyLastFetch<60*1e3&&this.monthlyLeaderboard))try{const e=b(),l=await v.get("https://taptaptap.coinclicker.app/leaderboard/monthly",{headers:{"x-api-key":e.getAccessToken}});this.monthlyLeaderboard=l.data,this.monthlyLastFetch=d}catch(e){console.error("Error fetching data:",e)}}}}),ce={class:"tabs"},_e={key:0,class:"leaderboard"},he={class:"leaderboard-title"},ye={class:"leaderboard-list"},pe={key:0,class:"player you"},ue={class:"avatar"},be=["src","alt"],me={key:1,class:"initials"},ve={class:"player-info"},ke={class:"name"},Le={class:"player-score"},ge={class:"rank"},fe={class:"avatar"},Se=["src","alt"],$e={key:1,class:"initials"},Ce={class:"player-info"},Fe={key:0,class:"name"},we={key:1},De={class:"player-score"},Ue={key:1,class:"leaderboard"},Be={class:"leaderboard-title"},Me={class:"leaderboard-list"},Te={key:0,class:"player you"},Ae={class:"avatar"},Ee=["src","alt"],Pe={key:1,class:"initials"},Ie={class:"player-info"},Ne={class:"name"},Ve={class:"player-score"},je={class:"rank"},qe={class:"avatar"},xe=["src","alt"],ze={key:1,class:"initials"},Ge={class:"player-info"},He={key:0,class:"name"},Je={key:1},Ke={class:"player-score"},Oe={key:2,class:"leaderboard"},Qe={class:"leaderboard-title"},Re={class:"leaderboard-list"},We={key:0,class:"player you"},Xe={class:"avatar"},Ye=["src","alt"],Ze={key:1,class:"initials"},et={class:"player-info"},tt={class:"name"},at={class:"player-score"},st={key:0,class:"rank"},ot={key:1},rt={class:"avatar"},nt=["src","alt"],dt={key:1,class:"initials"},it={class:"player-info"},lt={key:0,class:"name"},ct={key:1},_t={class:"player-score"},ht=oe({__name:"Leaderboard",setup(d){const e=le(),ae=b().user;re(()=>{e.fetchDailyLeaderboard(),e.fetchMonthlyLeaderboard(),e.fetchLeaderboard()});const{t:y}=ne();y("top.yourPlace",{place:123});const p=de("Day"),m=i=>{p.value=i};return(i,c)=>{var L,g,f,S,$,C,F,w,D,U,B,M,T,A,E,P,I,N,V,j,q,x,z,G,H,J,K,O,Q,R,W,X,Y,Z,ee,te;return t(),a(u,null,[s("div",ce,[s("button",{onClick:c[0]||(c[0]=o=>m("Day")),class:"tab"},r(i.$t("top.day")),1),s("button",{onClick:c[1]||(c[1]=o=>m("Month")),class:"tab"},r(i.$t("top.month")),1),s("button",{onClick:c[2]||(c[2]=o=>m("Balance")),class:"tab"},r(i.$t("top.balance")),1)]),p.value==="Day"?(t(),a("div",_e,[s("div",he," 🏆 "+r(i.$t("top.topToday")),1),s("div",ye,[((L=n(e).dailyLeaderboard)==null?void 0:L.me)!=null?(t(),a("div",pe,[s("span",ue,[(g=n(e).dailyLeaderboard)!=null&&g.me.avatar_url?(t(),a("img",{key:0,src:(f=n(e).dailyLeaderboard)==null?void 0:f.me.avatar_url,alt:(S=n(e).dailyLeaderboard)==null?void 0:S.me.identity},null,8,be)):(t(),a("div",me,r((F=(C=($=n(e).dailyLeaderboard)==null?void 0:$.me)==null?void 0:C.identity)==null?void 0:F.substring(0,2).toUpperCase()),1))]),s("div",ve,[s("span",ke,r(n(y)("top.yourPlace",{place:(D=(w=n(e).dailyLeaderboard)==null?void 0:w.me)==null?void 0:D.position})),1),s("span",Le,"🍆 +"+r((B=(U=n(e).dailyLeaderboard)==null?void 0:U.me)==null?void 0:B.score.toLocaleString()),1)])])):h("",!0),(t(!0),a(u,null,k((M=n(e).dailyLeaderboard)==null?void 0:M.players,(o,_)=>(t(),a("div",{key:o.id,class:"player"},[s("span",ge,r(_+1)+".",1),s("span",fe,[o.avatar_url?(t(),a("img",{key:0,src:o.avatar_url,alt:o.identity},null,8,Se)):(t(),a("div",$e,r(o.identity.substring(0,2).toUpperCase()),1))]),s("div",Ce,[o.is_premium?(t(),a("span",Fe,r(o.identity),1)):(t(),a("span",we,r(o.identity),1)),s("span",De,"🍆 +"+r(o.score.toLocaleString()),1)])]))),128))])])):h("",!0),p.value==="Month"?(t(),a("div",Ue,[s("div",Be," 🏆 "+r(i.$t("top.topMonth")),1),s("div",Me,[((T=n(e).monthlyLeaderboard)==null?void 0:T.me)!=null?(t(),a("div",Te,[s("span",Ae,[(A=n(e).monthlyLeaderboard)!=null&&A.me.avatar_url?(t(),a("img",{key:0,src:(E=n(e).monthlyLeaderboard)==null?void 0:E.me.avatar_url,alt:(P=n(e).monthlyLeaderboard)==null?void 0:P.me.identity},null,8,Ee)):(t(),a("div",Pe,r((V=(N=(I=n(e).monthlyLeaderboard)==null?void 0:I.me)==null?void 0:N.identity)==null?void 0:V.substring(0,2).toUpperCase()),1))]),s("div",Ie,[s("span",Ne,r(n(y)("top.yourPlace",{place:(q=(j=n(e).monthlyLeaderboard)==null?void 0:j.me)==null?void 0:q.position})),1),s("span",Ve,"🍆 +"+r((z=(x=n(e).monthlyLeaderboard)==null?void 0:x.me)==null?void 0:z.score.toLocaleString()),1)])])):h("",!0),(t(!0),a(u,null,k((G=n(e).monthlyLeaderboard)==null?void 0:G.players,(o,_)=>(t(),a("div",{key:o.id,class:"player"},[s("span",je,r(_+1)+".",1),s("span",qe,[o.avatar_url?(t(),a("img",{key:0,src:o.avatar_url,alt:o.identity},null,8,xe)):(t(),a("div",ze,r(o.identity.substring(0,2).toUpperCase()),1))]),s("div",Ge,[o.is_premium?(t(),a("span",He,r(o.identity),1)):(t(),a("span",Je,r(o.identity),1)),s("span",Ke,"🍆 +"+r(o.score.toLocaleString()),1)])]))),128))])])):h("",!0),p.value==="Balance"?(t(),a("div",Oe,[s("div",Qe," 🏆 "+r(i.$t("top.topBalance")),1),s("div",Re,[((H=n(e).monthlyLeaderboard)==null?void 0:H.me)!=null?(t(),a("div",We,[s("span",Xe,[(K=(J=n(e).leaderboard)==null?void 0:J.me)!=null&&K.avatar_url?(t(),a("img",{key:0,src:(O=n(e).leaderboard)==null?void 0:O.me.avatar_url,alt:(Q=n(e).leaderboard)==null?void 0:Q.me.identity},null,8,Ye)):(t(),a("div",Ze,r((X=(W=(R=n(e).leaderboard)==null?void 0:R.me)==null?void 0:W.identity)==null?void 0:X.substring(0,2).toUpperCase()),1))]),s("div",et,[s("span",tt,r(n(y)("top.yourPlace",{place:(Z=(Y=n(e).leaderboard)==null?void 0:Y.me)==null?void 0:Z.position})),1),s("span",at,"🍆 "+r((ee=n(ae))==null?void 0:ee.balance.toLocaleString()),1)])])):h("",!0),(t(!0),a(u,null,k((te=n(e).leaderboard)==null?void 0:te.players,(o,_)=>(t(),a("div",{key:o.id,class:"player"},[_!=0?(t(),a("span",st,r(_+1)+".",1)):(t(),a("span",ot,"👑")),s("span",rt,[o.avatar_url?(t(),a("img",{key:0,src:o.avatar_url,alt:o.identity},null,8,nt)):(t(),a("div",dt,r(o.identity.substring(0,2).toUpperCase()),1))]),s("div",it,[o.is_premium?(t(),a("span",lt,r(o.identity),1)):(t(),a("span",ct,r(o.identity),1)),s("span",_t,"🍆 "+r(o.score.toLocaleString()),1)])]))),128))])])):h("",!0)],64)}}}),pt=ie(ht,[["__scopeId","data-v-248b80ef"]]);export{pt as default};
