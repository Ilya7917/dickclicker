import{u as O,j as Oe,k as T,d as Se,l as Ie,D as Me,r as v,o as Ae,c as n,t as a,m as p,e,F as b,p as C,v as ye,E as he,h as q,g as l,x as ve,A as R,b as o,y as De,z as Te,_ as Le}from"./index-1Yhe0JkR.js";import{u as $e,_ as je}from"./channel-DnEisf3r.js";import{A as Ue}from"./addIcon-B-w5o2bP.js";O();const ze=Oe("marketStore",{state:()=>({orders:null,myOrders:null}),getters:{},actions:{async createNewOrder(c){console.log(c);const u=O(),d=await T.post("https://taptaptap.coinclicker.app/createOrder",{amount:c.amount,paymentMethods:c.paymentMethods,price:c.price},{headers:{"x-api-key":u.getAccessToken}});return console.log(d),!0},async fetchAllActiveOrders(){const c=O(),u=await T.get("https://taptaptap.coinclicker.app/orders",{headers:{"x-api-key":c.getAccessToken}});console.log(u);for(let d=0;d<u.data.orders.length;d++){const L=u.data.orders[d].PaymentMethods.split(",").map(U=>U.trim());u.data.orders[d].PaymentMethods=L,console.log(L)}return this.orders=u.data.orders,console.log(this.orders),!0},async createOrderMember(c,u){const d=O(),S=await T.post("https://taptaptap.coinclicker.app/createOrderMember",{id:c,owner_id:u},{headers:{"x-api-key":d.getAccessToken}});return console.log(S),!0},async fetchOrderMembers(c){const u=O(),d=await T.get("https://taptaptap.coinclicker.app/getOrderMembers",{headers:{"x-api-key":u.getAccessToken,id:c}});return console.log(d),d.data.members},async deleteMyOrder(c){const u=O(),d=await T.post("https://taptaptap.coinclicker.app/deleteOrder",{id:c},{headers:{"x-api-key":u.getAccessToken}});return console.log(d),!!d.data.sucess},async startOrder(c,u){const d=O(),S=await T.post("https://taptaptap.coinclicker.app/startOrder",{id:c,member_id:u},{headers:{"x-api-key":d.getAccessToken}});return console.log(S),!!S.data.sucess},async finishOrder(c){const u=O(),d=await T.post("https://taptaptap.coinclicker.app/finishOrder",{id:c},{headers:{"x-api-key":u.getAccessToken}});return console.log(d),!!d.data.sucess}}}),y=c=>(De("data-v-5d70967a"),c=c(),Te(),c),Q=je+"#chevron-right",Ne={class:"telegram-channels"},Pe={key:0,class:"earn-title"},Ve={key:1,class:"createPostMenu"},Re={style:{marginTop:"20px"}},Be={id:"progressbar"},Fe={class:"createForm"},Ee={key:0,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},We=y(()=>e("label",{for:"fname"},"Количество коинов, которое вы планируете купить",-1)),qe={key:1,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},Qe=y(()=>e("label",{for:"fname",style:{fontSize:"18px"}},"Способ оплаты, который будет удобен вам",-1)),Ye={class:"sec-center",style:{marginTop:"20px"}},Ge=y(()=>e("input",{class:"dropdown",type:"checkbox",id:"dropdown",name:"dropdown"},null,-1)),He=y(()=>e("label",{class:"for-dropdown",for:"dropdown"},"Добавить способ оплаты",-1)),Je={class:"section-dropdown"},Ke=y(()=>e("i",{class:"uil uil-arrow-right"},"💳",-1)),Xe=y(()=>e("i",{class:"uil uil-arrow-right"},"💱",-1)),Ze=y(()=>e("i",{class:"uil uil-arrow-right"},"💵",-1)),et={key:0,style:{marginTop:"25px"}},tt={style:{display:"flex"}},st={style:{width:"200px",height:"50px",border:"3.5px solid gray",textAlign:"center",justifyContent:"center",alignItems:"center",display:"flex"}},nt=["onClick"],ot=y(()=>e("span",null,"❌",-1)),it=[ot],lt={key:2,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},at=y(()=>e("label",{for:"fname"},"За сколько вы хотите приобрести коины? (в USD)",-1)),rt={key:0},dt={key:0,style:{display:"flex",justifyContent:"center"}},ct={key:2,style:{display:"flex",flexDirection:"column",justifyContent:"space-between"}},ut={style:{height:"40vh"}},pt={class:"channels-title",style:{display:"flex",justifyContent:"space-between"}},yt=["src"],ht={key:0,class:"channels-list"},vt={class:"channel-info",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},mt=["src"],_t={key:1,style:{height:"30px",width:"30px",borderRadius:"100px",background:"gray",justifyContent:"center",alignItems:"center",display:"flex"}},ft={class:"name",style:{marginLeft:"10px",fontSize:"18px"}},xt=["onClick"],gt={key:0,style:{display:"flex",flexDirection:"column"}},kt={key:0,style:{fontSize:"17px"}},wt={key:1},bt={key:2},Ct={key:3,style:{display:"flex",flexDirection:"column"}},Ot={style:{border:"3.5px solid gray",width:"170px",textAlign:"center",marginTop:"7px"}},St={key:1,style:{fontSize:"20px"}},It=y(()=>e("div",{class:"channel-action"},[e("svg",{class:"arrow"},[e("use",{"xlink:href":Q})])],-1)),Mt={class:"channel-info",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},At=["src"],Dt={key:1,style:{height:"30px",width:"30px",borderRadius:"100px",background:"gray",justifyContent:"center",alignItems:"center",display:"flex"}},Tt={class:"name",style:{marginLeft:"10px",fontSize:"18px"}},Lt=["onClick"],$t={key:0,style:{display:"flex",flexDirection:"column"}},jt={key:0,style:{fontSize:"17px"}},Ut={key:1},zt={style:{display:"flex",flexDirection:"column"}},Nt={style:{border:"3.5px solid gray",width:"170px",textAlign:"center",marginTop:"7px"}},Pt={key:1,style:{fontSize:"20px"}},Vt=y(()=>e("div",{class:"channel-action"},[e("svg",{class:"arrow"},[e("use",{"xlink:href":Q})])],-1)),Rt={key:3},Bt={style:{display:"flex",justifyContent:"center"}},Ft={style:{fontSize:"30px",fontWeight:"bold"}},Et={key:0},Wt={style:{display:"flex",flexDirection:"column",marginLeft:"5%",marginTop:"20px"}},qt={style:{display:"flex"}},Qt={style:{fontSize:"23px"}},Yt=["src"],Gt={key:1,style:{height:"30px",width:"30px",borderRadius:"100px",background:"gray",justifyContent:"center",alignItems:"center",display:"flex"}},Ht={style:{fontSize:"23px"}},Jt={style:{fontSize:"23px"}},Kt={style:{border:"3.5px solid gray",width:"170px",textAlign:"center",marginTop:"7px"}},Xt={key:0,style:{display:"flex",justifyContent:"center",marginTop:"40px"}},Zt={key:1},es={key:0,style:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",marginTop:"30px"}},ts={key:0},ss={key:1},ns={style:{fontSize:"19px"}},os={key:2},is={style:{display:"flex",justifyContent:"center",marginTop:"20px"}},ls={style:{fontSize:"23px"}},as={key:1},rs={style:{display:"flex",flexDirection:"column",marginLeft:"5%",marginTop:"20px"}},ds={style:{display:"flex"}},cs={style:{fontSize:"23px"}},us=["src"],ps={key:1,style:{height:"30px",width:"30px",borderRadius:"100px",background:"gray",justifyContent:"center",alignItems:"center",display:"flex"}},ys={style:{fontSize:"23px"}},hs=y(()=>e("span",{style:{fontSize:"23px"}},"Ваши сопсобы оплаты:",-1)),vs={style:{border:"3.5px solid gray",width:"170px",textAlign:"center",marginTop:"7px"}},ms={key:0,class:"orderSettingButtons",style:{display:"flex",justifyContent:"center",marginTop:"20px"}},_s={key:1},fs={key:0,style:{textAlign:"center",marginTop:"20px"}},xs={key:0},gs=y(()=>e("span",{style:{fontSize:"19px"}}," Желающие купить коины: ",-1)),ks=["onClick"],ws={class:"channel-info",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},bs=["src"],Cs={key:1,style:{height:"30px",width:"30px",borderRadius:"100px",background:"gray",justifyContent:"center",alignItems:"center",display:"flex"}},Os={class:"name",style:{marginLeft:"10px",fontSize:"18px"}},Ss=y(()=>e("div",{class:"channel-action"},[e("svg",{class:"arrow"},[e("use",{"xlink:href":Q})])],-1)),Is={key:1},Ms={style:{fontSize:"23px"}},As={key:1,style:{textAlign:"center",marginTop:"20px"}},Ds=y(()=>e("span",{style:{fontSize:"19px",marginLeft:"-15px"}},"ⓘ Запросов на сделку ещё не поступало ⓘ",-1)),Ts=[Ds],Ls={key:2},$s={style:{display:"flex",justifyContent:"center",marginTop:"20px"}},js={style:{fontSize:"23px"}},Us={key:0,class:"popup-content"},zs={class:"popup-header"},Ns=y(()=>e("svg",{class:"close-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"16px",height:"16px"},[e("path",{d:"M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"})],-1)),Ps=[Ns],Vs={style:{display:"flex",justifyContent:"center",marginTop:"20px"}},Rs={key:1,class:"popup-content"},Bs={class:"popup-header"},Fs=y(()=>e("svg",{class:"close-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"16px",height:"16px"},[e("path",{d:"M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"})],-1)),Es=[Fs],Ws={style:{display:"flex",justifyContent:"center",marginTop:"20px"}},qs=Se({__name:"Market",setup(c){Ie(),$e();const u=Me(),d=v(!1),S=v("member"),L=v(!1),U=O(),m=ze(),g=v(0),$=()=>{m.fetchAllActiveOrders().then(r=>{if(r){if(m.orders&&g){const[s,h]=m.orders.reduce(([k,D],M)=>{const P=M.OwnerID==g.value,V=M.CloseWithUserID==g.value;return P||V?D.push(M):M.Status=="active"&&k.push(M),[k,D]},[[],[]]);m.orders=s,m.myOrders=h}L.value=!0}})},B=r=>{m.fetchOrderMembers(r).then(s=>{var h;s&&(f.value=s,((h=f.value)==null?void 0:h.findIndex(D=>D.UserID==g.value))==-1&&(E.value=!0))})};Ae(()=>{var r,s;$(),((r=U.user)==null?void 0:r.id)!=null&&(g.value=(s=U.user)==null?void 0:s.id)}),v("visible");const I=v("market"),A=v(0),z=r=>{I.value=r},me=v(!0),F=[{id:0,isActive:!0,text:"Add amount"},{id:1,isActive:!1,text:"Payment methods"},{id:2,isActive:!1,text:"Add price"}],_e=()=>{A.value++,F[A.value].isActive=!0},_=v({amount:0,paymentMethods:[],price:0}),f=v();let i=v(void 0);const fe=v("order"),E=v(!1),W=r=>{if(_.value.paymentMethods.findIndex(s=>s==r)==-1)_.value.paymentMethods.push(r);else{R().showAlert("❌ Вы уже добавили этот метод оплаты ❌");return}},xe=r=>{_.value.paymentMethods.splice(_.value.paymentMethods.findIndex(s=>s==r),1)},j=r=>{switch(r){case"vm":return"Visa/MasterCard 💳";case"ton":return"TON wallet 💱";case"qiwi":return"Qiwi wallet 💵"}},ge=()=>{_.value.amount<=0&&R().showAlert("❌ Ошибка. Нельзя создать сделку с 0 количеством коинов"),_.value.paymentMethods.length==0&&R().showAlert("❌ Ошибка. Нужно добавить хотя бы 1 метод оплаты"),m.createNewOrder(_.value).then(()=>{$(),I.value="market",A.value=0,F.forEach(r=>{r.id!=0&&(r.isActive=!1)})})},N=(r,s)=>{I.value="visible",fe.value=r,i.value=s,console.log(i),B(s.ID)},ke=()=>{var r,s;i!=null&&((r=i.value)==null?void 0:r.ID)!=null&&(E.value=!1,m.createOrderMember((s=i.value)==null?void 0:s.ID,i.value.OwnerID).then(h=>{var k;h&&B(((k=i.value)==null?void 0:k.ID)!==void 0?i.value.ID:0)}))},we=r=>{m.deleteMyOrder(r).then(s=>{s&&($(),L.value=!1,z("market"))})},w=v({ID:0,Username:"",MemberId:0}),Y=(r,s,h,k)=>{w.value.ID=r,w.value.Username=s,w.value.MemberId=h,d.value=!0,S.value=k},be=()=>{m.startOrder(w.value.ID,w.value.MemberId).then(r=>{var s,h;r&&(d.value=!1,$(),B(((s=i.value)==null?void 0:s.ID)!=null?(h=i.value)==null?void 0:h.ID:0),i.value&&(i.value.Status="progress"))})},Ce=()=>{i.value!=null&&m.finishOrder(i.value.ID).then(r=>{r&&(d.value=!1,I.value="market",$())})};return(r,s)=>{var h,k,D,M,P,V,G,H,J,K,X,Z,ee,te,se,ne,oe,ie,le,ae,re,de,ce,ue,pe;return o(),n("div",Ne,[I.value!="create"?(o(),n("div",Pe," 🛒 "+a(r.$t("bottomMenu.market")),1)):p("",!0),I.value==="create"?(o(),n("div",Ve,[e("button",{class:"mypost-button",style:{marginTop:"10px"},onClick:s[0]||(s[0]=t=>z("market"))},"Назад"),e("div",Re,[e("ul",Be,[(o(),n(b,null,C(F,t=>e("li",{class:ve(t.isActive?"active":"")},a(t.text),3)),64))])]),e("div",Fe,[A.value===0?(o(),n("div",Ee,[We,ye(e("input",{type:"number",id:"fname",style:{width:"70%",color:"white"},name:"fname","onUpdate:modelValue":s[1]||(s[1]=t=>_.value.amount=t)},null,512),[[he,_.value.amount]])])):p("",!0),A.value===1?(o(),n("div",qe,[Qe,e("div",Ye,[Ge,He,e("div",Je,[e("a",{onClick:s[2]||(s[2]=t=>W("vm"))},[q("Visa/MasterCard "),Ke]),e("a",{onClick:s[3]||(s[3]=t=>W("ton"))},[q("TON wallet "),Xe]),e("a",{onClick:s[4]||(s[4]=t=>W("qiwi"))},[q("Qiwi wallet"),Ze])]),_.value.paymentMethods.length>0?(o(),n("div",et,[(o(!0),n(b,null,C(_.value.paymentMethods,t=>(o(),n("div",tt,[e("div",st,[e("span",null,a(j(t)),1)]),e("div",{style:{height:"50px",border:"3.5px solid white",width:"50px",display:"flex",justifyContent:"center",alignItems:"center"},onClick:x=>xe(t)},it,8,nt)]))),256))])):p("",!0)])])):p("",!0),A.value===2?(o(),n("div",lt,[at,ye(e("input",{type:"number",id:"fname",style:{width:"70%",color:"white"},name:"fname","onUpdate:modelValue":s[5]||(s[5]=t=>_.value.price=t)},null,512),[[he,_.value.price]]),me.value?(o(),n("div",rt,[e("button",{class:"mypost-button",style:{marginTop:"30px"},onClick:s[6]||(s[6]=t=>ge())},"Создать")])):p("",!0)])):p("",!0)]),A.value<2?(o(),n("div",dt,[e("button",{class:"mypost-button",style:{marginTop:"30px"},onClick:_e},"Дальше")])):p("",!0)])):p("",!0),I.value=="market"?(o(),n("div",ct,[e("div",ut,[e("div",pt,[e("button",{class:"boost-purchase-button",style:{margin:"15px 25px"},onClick:s[7]||(s[7]=()=>{})},"Купить"),e("button",{class:"boost-purchase-button",style:{margin:"15px 25px",opacity:"0.4"},onClick:s[8]||(s[8]=t=>l(R)().showAlert("🛠️ Coming soon"))},"Продать")]),e("div",{style:{display:"flex",width:"100%",justifyContent:"flex-end"},onClick:s[9]||(s[9]=t=>z("create"))},[e("img",{src:l(Ue),alt:"Your Icon",style:{height:"45px",marginRight:"15px"}},null,8,yt)]),L.value?(o(),n("div",ht,[(o(!0),n(b,null,C(l(m).myOrders,t=>(o(),n("div",{id:"MyOrders",key:t.ID,onClick:s[10]||(s[10]=()=>{}),class:"channel"},[e("div",vt,[t.OwnerAvatar!=null&&t.OwnerAvatar!=""?(o(),n("img",{key:0,src:t.OwnerAvatar,style:{height:"30px",borderRadius:"100px"}},null,8,mt)):(o(),n("div",_t,"👤")),e("span",ft,a(t.OwnerName),1)]),e("div",{onClick:x=>t.OwnerID!==g.value?N("order",t):N("me",t)},[t.OwnerID!==g.value?(o(),n("div",gt,[t.Status=="active"?(o(),n("span",kt,"хочет купить "+a(t.Amount)+"🍆 за "+a(t.Price)+"💲",1)):p("",!0),t.Status=="progress"?(o(),n("span",wt,"сделка в процессе ⏳")):(o(),n("span",bt,"сделка закрыта ✅")),t.Status!="closed"?(o(),n("div",Ct,[(o(!0),n(b,null,C(t.PaymentMethods,x=>(o(),n("div",Ot,[e("span",null,a(j(x)),1)]))),256))])):p("",!0)])):(o(),n("span",St,a(t.Status=="active"||t.Status=="progress"?`ваша сделка 👑 ${t.Status=="progress"?"⏳":""}`:"сделка закрыта ✅"),1))],8,xt),It]))),128)),(o(!0),n(b,null,C(l(m).orders,t=>(o(),n("div",{id:"AllOrders",key:t.ID,onClick:s[11]||(s[11]=()=>{}),class:"channel"},[e("div",Mt,[t.OwnerAvatar!=null&&t.OwnerAvatar!=""?(o(),n("img",{key:0,src:t.OwnerAvatar,style:{height:"30px",borderRadius:"100px"}},null,8,At)):(o(),n("div",Dt,"👤")),e("span",Tt,a(t.OwnerName),1)]),e("div",{onClick:x=>t.OwnerID!==g.value?N("order",t):N("me",t)},[t.OwnerID!==g.value?(o(),n("div",$t,[t.Status=="active"?(o(),n("span",jt,"хочет купить "+a(t.Amount)+"🍆 за "+a(t.Price)+"💲",1)):(o(),n("span",Ut,"сделка в процессе ⏳")),e("div",zt,[(o(!0),n(b,null,C(t.PaymentMethods,x=>(o(),n("div",Nt,[e("span",null,a(j(x)),1)]))),256))])])):(o(),n("span",Pt,"ваша сделка 👑 "+a(t.Status=="progress"?"⏳":""),1))],8,Lt),Vt]))),128))])):p("",!0)])])):p("",!0),I.value=="visible"?(o(),n("div",Rt,[e("button",{class:"boost-purchase-button",style:{width:"40%"},onClick:s[12]||(s[12]=t=>z("market"))},"Назад"),e("div",Bt,[e("span",Ft,a(((h=l(i))==null?void 0:h.OwnerID)!==g.value?"":"Ваш ")+" Ордер №"+a((k=l(i))==null?void 0:k.ID),1)]),((D=l(i))==null?void 0:D.OwnerID)!==g.value?(o(),n("div",Et,[e("div",Wt,[e("div",qt,[e("span",Qt,"Пользователь: "+a((M=l(i))==null?void 0:M.OwnerName),1),((P=l(i))==null?void 0:P.OwnerAvatar)!=null?(o(),n("img",{key:0,src:l(i).OwnerAvatar,style:{height:"30px",borderRadius:"100px"}},null,8,Yt)):(o(),n("div",Gt,"👤"))]),e("div",null,[e("span",Ht,"Хочет купить "+a((V=l(i))==null?void 0:V.Amount)+"🍆 за "+a((G=l(i))==null?void 0:G.Price)+"💲",1)]),e("div",null,[e("span",Jt,"Предпочтительные способы оплаты для "+a((H=l(i))==null?void 0:H.OwnerName)+":",1),e("div",null,[(o(!0),n(b,null,C((J=l(i))==null?void 0:J.PaymentMethods,t=>(o(),n("div",Kt,[e("span",null,a(j(t)),1)]))),256))])])]),E.value&&((K=l(i))==null?void 0:K.Status)=="active"?(o(),n("div",Xt,[e("button",{class:"boost-purchase-button",style:{width:"70%",backgroundColor:"#3f8b1e"},onClick:s[13]||(s[13]=t=>ke())},"Продать 🍆 "+a((X=l(i))==null?void 0:X.OwnerName)+"`y",1)])):p("",!0),((Z=l(i))==null?void 0:Z.Status)!="closed"?(o(),n("div",Zt,[f.value!=null&&((ee=f.value)==null?void 0:ee.findIndex(t=>t.UserID==g.value))!=-1&&((te=f.value)==null?void 0:te.length)>0?(o(),n("div",es,[((se=l(i))==null?void 0:se.Status)=="active"?(o(),n("span",ts,"Ваш запрос успешно создан, вы начнёте сделку, когда пользователь "+a((ne=l(i))==null?void 0:ne.OwnerName)+" примет ваш запрос",1)):(o(),n("div",ss,[e("span",ns,a((oe=l(i))==null?void 0:oe.OwnerName)+" принял ваш запрос на сделку",1),e("button",{class:"boost-purchase-button",style:{width:"70%",marginTop:"30px"},onClick:s[14]||(s[14]=t=>{var x;return l(u).openTelegramLink(`https://t.me/${(x=l(i))==null?void 0:x.OwnerName}`)})},"Связаться с "+a((ie=l(i))==null?void 0:ie.OwnerName),1),e("button",{class:"boost-purchase-button",style:{width:"70%",marginTop:"30px"},onClick:s[15]||(s[15]=t=>{var x;return l(i)!=null?Y((x=l(i))==null?void 0:x.ID,l(i).OwnerName,l(i).OwnerID,"confirm"):null})},"Отпустить коины")]))])):p("",!0)])):(o(),n("div",os,[e("div",is,[e("span",ls,"Вы закрыли сделку с: "+a((le=l(i))==null?void 0:le.OwnerName),1)])]))])):(o(),n("div",as,[e("div",rs,[e("div",ds,[e("span",cs,a((ae=l(i))==null?void 0:ae.OwnerName),1),((re=l(i))==null?void 0:re.OwnerAvatar)!=null?(o(),n("img",{key:0,src:l(i).OwnerAvatar,style:{height:"30px",borderRadius:"100px"}},null,8,us)):(o(),n("div",ps,"👤"))]),e("div",null,[e("span",ys,"Собираетесь купить "+a((de=l(i))==null?void 0:de.Amount)+"🍆 за "+a((ce=l(i))==null?void 0:ce.Price)+"💲",1)]),e("div",null,[hs,e("div",null,[(o(!0),n(b,null,C((ue=l(i))==null?void 0:ue.PaymentMethods,t=>(o(),n("div",vs,[e("span",null,a(j(t)),1)]))),256))])]),l(i).Status=="active"?(o(),n("div",ms,[e("button",{class:"boost-purchase-button",style:{width:"60%"},onClick:s[16]||(s[16]=t=>we(l(i).ID))},"Удалить сделку")])):p("",!0),l(i).Status!="closed"?(o(),n("div",_s,[f.value!=null&&((pe=f.value)==null?void 0:pe.length)>0?(o(),n("div",fs,[l(i).Status=="active"?(o(),n("div",xs,[gs,(o(!0),n(b,null,C(f.value,t=>(o(),n("div",{key:t.ID,onClick:x=>Y(t.OrderID,t.Username,t.UserID,"member"),class:"channel",style:{marginLeft:"-10px"}},[e("div",ws,[t.UserAvatar!=null&&t.UserAvatar!==""?(o(),n("img",{key:0,src:t.UserAvatar,style:{height:"30px",borderRadius:"100px"}},null,8,bs)):(o(),n("div",Cs,"👤")),e("span",Os,a(t.Username),1)]),Ss],8,ks))),128))])):(o(),n("div",Is,[e("span",Ms,"Вы торгуете с: "+a(f.value[0].Username),1),e("button",{class:"boost-purchase-button",style:{width:"80%",marginTop:"30px"},onClick:s[17]||(s[17]=t=>l(u).openTelegramLink(`https://t.me/${f.value[0].Username}`))},"Связаться с "+a(f.value[0].Username),1)]))])):(o(),n("div",As,Ts))])):(o(),n("div",Ls,[e("div",$s,[e("span",js,"Вы закрыли сделку с: "+a(f.value!=null?f.value[0].Username:""),1)])]))])]))])):p("",!0),d.value?(o(),n("div",{key:4,class:ve(["boost-purchase-popup",{visible:d.value}])},[S.value=="member"?(o(),n("div",Us,[e("div",zs,[e("h2",null,a(w.value.Username),1),e("button",{class:"close-button",onClick:s[18]||(s[18]=t=>{d.value=!1})},Ps)]),e("div",null,[e("span",null,"Отправил вам запрос на сделку, хотите торговать с "+a(w.value.Username)+"?",1)]),e("div",Vs,[e("button",{class:"boost-purchase-button",style:{width:"60%"},onClick:s[19]||(s[19]=t=>be())},"Начать сделку")])])):(o(),n("div",Rs,[e("div",Bs,[e("h2",null,"Сделка с "+a(w.value.Username),1),e("button",{class:"close-button",onClick:s[20]||(s[20]=t=>{d.value=!1})},Es)]),e("div",null,[e("span",null,"Нажимая кнопку ниже вы подтверждаете, что получили платёж от "+a(w.value.Username),1)]),e("div",Ws,[e("button",{class:"boost-purchase-button",style:{width:"60%"},onClick:s[21]||(s[21]=t=>Ce())},"Отпустить коины")])]))],2)):p("",!0)])}}}),Hs=Le(qs,[["__scopeId","data-v-5d70967a"]]);export{Hs as default};
