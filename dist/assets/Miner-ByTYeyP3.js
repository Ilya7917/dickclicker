import{B as F}from"./Balance-D-lEojnx.js";import{d as j,u as z,r as v,o as H,a as L,b as R,c as T,e,t as a,f as M,g as u,w as d,n as P,F as N,h as p,_ as X,i as U,Z as V,s as I}from"./index-DriXmh7Y.js";const D={class:"energy-section"},Z={class:"energy-progress-bar"},O={class:"energy-info"},q={class:"energy-value"},A={class:"bottom-menu"},G={class:"menu-items"},J=j({__name:"BottomMenu",setup(Y){const s=z(),w=v(null),l=v(null),y=v(null),c=v(null),x=v(null),S=()=>{if(w.value&&l.value&&x.value&&y.value&&c.value){const t=w.value.getBoundingClientRect();l.value.style.bottom=`${window.innerHeight-t.top+20}px`,y.value.style.bottom=`${window.innerHeight-t.top+95}px`,c.value.style.bottom=`${window.innerHeight-t.top+60}px`,x.value.style.bottom=`${window.innerHeight-t.top+20}px`}};return H(async()=>{S()}),(t,E)=>{var $,h,f,b;const i=L("router-link");return R(),T(N,null,[e("div",D,[e("div",{ref_key:"withdrawalBalanceRef",ref:x,style:{left:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[e("span",null,"Доступно на вывод: "+a(($=M(s).user)==null?void 0:$.withdrawal_balance)+"🐥",1)],512),e("div",{ref_key:"skinsRef",ref:l,style:{right:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[u(i,{class:"menu-item",style:{fontSize:"35px"},to:"/skins",tag:"button"},{default:d(()=>[p(" 🦆 "),e("span",null,a(t.$t("bottomMenu.skins")),1)]),_:1})],512),e("div",{ref_key:"clansRef",ref:y,style:{right:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[u(i,{class:"menu-item",style:{fontSize:"35px"},to:"/clans",tag:"button"},{default:d(()=>[p(" 🏰 "),e("span",null,a(t.$t("bottomMenu.clans")),1)]),_:1})],512),e("div",{ref_key:"gameRef",ref:c,style:{left:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[u(i,{class:"menu-item",style:{fontSize:"35px"},to:"/games",tag:"button"},{default:d(()=>[p(" ⚔️ "),e("span",null,a(t.$t("bottomMenu.fights")),1)]),_:1})],512),e("div",{ref_key:"energyRef",ref:w,class:"energy"},[e("div",Z,[e("div",{class:"energy-progress",style:P({width:(((h=M(s).user)==null?void 0:h.energy)??0)/(1e3+(((f=M(s).user)==null?void 0:f.max_energy_level)??0)*500)*100+"%"})},null,4)]),e("div",O,[e("span",q,"⚡"+a((b=M(s).user)==null?void 0:b.energy),1)])],512)]),e("div",A,[e("div",G,[u(i,{class:"menu-item",to:"/leaderboard",tag:"button"},{default:d(()=>[p(" 🏆 "),e("span",null,a(t.$t("bottomMenu.top")),1)]),_:1}),u(i,{class:"menu-item",to:"/channels",tag:"button"},{default:d(()=>[p(" 📋 "),e("span",null,a(t.$t("bottomMenu.earn")),1)]),_:1}),u(i,{class:"menu-item",to:"/market",tag:"button"},{default:d(()=>[p(" 🛒 "),e("span",null,a(t.$t("bottomMenu.market")),1)]),_:1}),u(i,{class:"menu-item",to:"/slots",tag:"button"},{default:d(()=>[p(" 🎰 "),e("span",null,a(t.$t("slots.bottom")),1)]),_:1}),u(i,{class:"menu-item",to:"/posts",tag:"button"},{default:d(()=>[p(" 🌐 "),e("span",null,a(t.$t("bottomMenu.posts")),1)]),_:1}),u(i,{class:"menu-item",to:"/boosts",tag:"button"},{default:d(()=>[p(" 🚀 "),e("span",null,a(t.$t("bottomMenu.boosts")),1)]),_:1})])])],64)}}}),K=X(J,[["__scopeId","data-v-f44f1820"]]),Q=["src"],W=["src"],ee=j({__name:"Miner",setup(Y){const s=z(),{getCurrentSkin:w}=s,l=v(null),y=v(0);let c;const x=()=>{console.log(`Кількість натискань: ${y.value}`),s.sendMineCoins(y.value),y.value=0},S=()=>{y.value+=1,c&&clearTimeout(c),c=setTimeout(x,300)};H(()=>{window.scrollTo(0,0)}),U(()=>{c&&clearTimeout(c)});const t=v(null),E=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,i=(o,g,_)=>{var k;const n=document.createElement("div");n.style.position="absolute",n.style.left=`${g}px`,n.style.top=`${_}px`,n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center",n.style.transform="translate(-50%, -50%)";const r=document.createElement("div");r.textContent=o.toString(),s.user&&s.user.is_premium?r.style.color="#ff9900":r.style.color="white",r.style.userSelect="none",r.style.pointerEvents="none",r.style.fontSize="40px",r.classList.add("flying-number");const m=document.createElement("img");m.src=b(),m.style.width="35px",m.style.height="35px",m.style.marginLeft="50px",m.style.marginRight="8px",m.classList.add("flying-number"),n.appendChild(m),n.appendChild(r),(k=t.value)==null||k.appendChild(n),setTimeout(()=>{n.remove()},1e3)};function $(o){return window.TouchEvent!==void 0?o instanceof TouchEvent:o.touches!==void 0}const h=o=>{var B;if(!s.user||!l.value||o.type==="mousedown"&&E())return;let g,_;if($(o)){const C=o;g=C.touches[0].clientX,_=C.touches[0].clientY}else{const C=o;g=C.clientX,_=C.clientY}const n=(B=t.value)==null?void 0:B.getBoundingClientRect(),r=g-((n==null?void 0:n.left)??0),m=_-((n==null?void 0:n.top)??0);if(s.user.energy>s.user.mine_level){s.mineCoins();var k=1;s.user.is_premium&&(k=2),i(s.user.mine_level*k,r,m),V().impactOccurred("light"),S()}l.value.style.transform="scale(0.98)"},f=()=>{l.value&&(l.value.style.transform="",l.value.style.transform="scale(1)")},b=()=>{let o=I.findIndex(g=>g.id==w);return console.log(`Index is : ${o}`),I[o].skin};return(o,g)=>{var _;return R(),T(N,null,[e("main",null,[u(F),e("div",{class:"coin-container numbers-container",ref_key:"numbersContainerRef",ref:t},[(_=M(s).user)!=null&&_.is_premium?(R(),T("img",{key:0,src:b(),alt:"Premium Coin",class:"coin",ref_key:"coinRef",ref:l,onMousedown:h,onTouchstart:h,onMouseup:f,onMouseleave:f,onTouchend:f},null,40,Q)):(R(),T("img",{key:1,src:b(),class:"coin",alt:"Regular Coin",ref_key:"coinRef",ref:l,onMousedown:h,onTouchstart:h,onMouseup:f,onMouseleave:f,onTouchend:f},null,40,W))],512)]),u(K)],64)}}}),se=X(ee,[["__scopeId","data-v-22613aea"]]);export{se as default};
