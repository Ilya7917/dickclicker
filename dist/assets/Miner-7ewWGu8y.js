import{B as L}from"./Balance-DkTodcja.js";import{d as z,u as N,r as h,o as X,a as P,b as T,c as $,e,f as r,w as p,n as U,g as R,t as c,F as Y,h as y,_ as j,i as V,Z as D}from"./index-BEy6mpTp.js";import{s as I}from"./skinBase-CK22gNev.js";const H={class:"energy-section"},Z={class:"button-19"},O={class:"energy-progress-bar"},q={class:"energy-info"},A={class:"energy-value"},G={class:"bottom-menu"},J={class:"menu-items"},K=z({__name:"BottomMenu",setup(F){const n=N(),g=h(null),i=h(null),m=h(null),_=()=>{if(g.value&&i.value&&m.value){const s=g.value.getBoundingClientRect();i.value.style.bottom=`${window.innerHeight-s.top+20}px`,m.value.style.bottom=`${window.innerHeight-s.top+0}px`}};return X(async()=>{_()}),(s,S)=>{var w,x,C;const l=P("router-link");return T(),$(Y,null,[e("div",H,[e("div",{ref_key:"skinsRef",ref:i,style:{right:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[r(l,{class:"menu-item",style:{fontSize:"35px"},to:"/skins",tag:"button"},{default:p(()=>[y(" ðŸ¦† "),e("span",null,c(s.$t("bottomMenu.skins")),1)]),_:1})],512),e("div",{ref_key:"townRef",ref:m,style:{left:"35%",position:"fixed",display:"flex",justifyContent:"space-between"}},[r(l,{class:"menu-item",style:{fontSize:"35px"},to:"/town",tag:"button"},{default:p(()=>[e("button",Z,[y("ðŸ˜ï¸ "),e("span",null,c(s.$t("bottomMenu.town")),1)])]),_:1})],512),e("div",{ref_key:"energyRef",ref:g,class:"energy"},[e("div",O,[e("div",{class:"energy-progress",style:U({width:(((w=R(n).user)==null?void 0:w.energy)??0)/(1e3+(((x=R(n).user)==null?void 0:x.max_energy_level)??0)*500)*100+"%"})},null,4)]),e("div",q,[e("span",A,"âš¡"+c((C=R(n).user)==null?void 0:C.energy),1)])],512)]),e("div",G,[e("div",J,[r(l,{class:"menu-item",to:"/leaderboard",tag:"button"},{default:p(()=>[y(" ðŸ† "),e("span",null,c(s.$t("bottomMenu.top")),1)]),_:1}),r(l,{class:"menu-item",to:"/channels",tag:"button"},{default:p(()=>[y(" ðŸ“‹ "),e("span",null,c(s.$t("bottomMenu.earn")),1)]),_:1}),r(l,{class:"menu-item",to:"/market",tag:"button"},{default:p(()=>[y(" ðŸ›’ "),e("span",null,c(s.$t("bottomMenu.market")),1)]),_:1}),r(l,{class:"menu-item",to:"/slots",tag:"button"},{default:p(()=>[y(" ðŸŽ° "),e("span",null,c(s.$t("slots.bottom")),1)]),_:1}),r(l,{class:"menu-item",to:"/posts",tag:"button"},{default:p(()=>[y(" ðŸŒ "),e("span",null,c(s.$t("bottomMenu.posts")),1)]),_:1}),r(l,{class:"menu-item",to:"/boosts",tag:"button"},{default:p(()=>[y(" ðŸš€ "),e("span",null,c(s.$t("bottomMenu.boosts")),1)]),_:1})])])],64)}}}),Q=j(K,[["__scopeId","data-v-96ff54db"]]),W=["src"],ee=["src"],te=z({__name:"Miner",setup(F){const n=N(),{getCurrentSkin:g}=n,i=h(null),m=h(0);let _;const s=()=>{console.log(`ÐšÑ–Ð»ÑŒÐºÑ–ÑÑ‚ÑŒ Ð½Ð°Ñ‚Ð¸ÑÐºÐ°Ð½ÑŒ: ${m.value}`),n.sendMineCoins(m.value),m.value=0},S=()=>{m.value+=1,_&&clearTimeout(_),_=setTimeout(s,300)};X(()=>{window.scrollTo(0,0)}),V(()=>{_&&clearTimeout(_)});const l=h(null),w=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,x=(o,d,f)=>{var b;const t=document.createElement("div");t.style.position="absolute",t.style.left=`${d}px`,t.style.top=`${f}px`,t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.transform="translate(-50%, -50%)";const a=document.createElement("div");a.textContent=o.toString(),n.user&&n.user.is_premium?a.style.color="#ff9900":a.style.color="white",a.style.userSelect="none",a.style.pointerEvents="none",a.style.fontSize="40px",a.classList.add("flying-number");const u=document.createElement("img");u.src=E(),u.style.width="35px",u.style.height="35px",u.style.marginLeft="50px",u.style.marginRight="8px",u.classList.add("flying-number"),t.appendChild(u),t.appendChild(a),(b=l.value)==null||b.appendChild(t),setTimeout(()=>{t.remove()},1e3)};function C(o){return window.TouchEvent!==void 0?o instanceof TouchEvent:o.touches!==void 0}const M=o=>{var B;if(!n.user||!i.value||o.type==="mousedown"&&w())return;let d,f;if(C(o)){const k=o;d=k.touches[0].clientX,f=k.touches[0].clientY}else{const k=o;d=k.clientX,f=k.clientY}const t=(B=l.value)==null?void 0:B.getBoundingClientRect(),a=d-((t==null?void 0:t.left)??0),u=f-((t==null?void 0:t.top)??0);if(n.user.energy>n.user.mine_level){n.mineCoins();var b=1;n.user.is_premium&&(b=2),x(n.user.mine_level*b,a,u),D().impactOccurred("light"),S()}i.value.style.transform="scale(0.98)"},v=()=>{i.value&&(i.value.style.transform="",i.value.style.transform="scale(1)")},E=()=>{let o=I.findIndex(d=>d.id==g);return console.log(g),I[o==-1?1:o].skin};return(o,d)=>{var f;return T(),$(Y,null,[e("main",null,[r(L),e("div",{class:"coin-container numbers-container",ref_key:"numbersContainerRef",ref:l},[(f=R(n).user)!=null&&f.is_premium?(T(),$("img",{key:0,src:E(),alt:"Premium Coin",class:"coin",ref_key:"coinRef",ref:i,onMousedown:M,onTouchstart:M,onMouseup:v,onMouseleave:v,onTouchend:v},null,40,W)):(T(),$("img",{key:1,src:E(),class:"coin",alt:"Regular Coin",ref_key:"coinRef",ref:i,onMousedown:M,onTouchstart:M,onMouseup:v,onMouseleave:v,onTouchend:v},null,40,ee))],512)]),r(Q)],64)}}}),le=j(te,[["__scopeId","data-v-d482b1b9"]]);export{le as default};
