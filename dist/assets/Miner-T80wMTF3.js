import{B as P}from"./Balance-CYlxw51u.js";import{d as I,u as N,r as k,o as X,a as U,b as w,c as T,e as t,f as u,w as f,n as V,g as $,t as d,F as Y,h as p,_ as z,i as D,Z,s as B}from"./index-BmFVTaUE.js";const j={class:"energy-section"},H={class:"energy-progress-bar"},O={class:"energy-info"},q={class:"energy-value"},A={class:"bottom-menu"},G={class:"menu-items"},J=I({__name:"BottomMenu",setup(F){const n=N(),v=k(null),l=k(null),_=()=>{if(v.value&&l.value){const s=v.value.getBoundingClientRect();l.value.style.bottom=`${window.innerHeight-s.top+20}px`}};return X(async()=>{_()}),(s,R)=>{var y,M,C;const a=U("router-link");return w(),T(Y,null,[t("div",j,[t("div",{ref_key:"skinsRef",ref:l,style:{right:"15px",position:"fixed"}},[u(a,{class:"menu-item",style:{fontSize:"35px"},to:"/skins",tag:"button"},{default:f(()=>[p(" 🍆 "),t("span",null,d(s.$t("bottomMenu.skins")),1)]),_:1})],512),t("div",{ref_key:"energyRef",ref:v,class:"energy"},[t("div",H,[t("div",{class:"energy-progress",style:V({width:(((y=$(n).user)==null?void 0:y.energy)??0)/(1e3+(((M=$(n).user)==null?void 0:M.max_energy_level)??0)*500)*100+"%"})},null,4)]),t("div",O,[t("span",q,"⚡"+d((C=$(n).user)==null?void 0:C.energy),1)])],512)]),t("div",A,[t("div",G,[u(a,{class:"menu-item",to:"/leaderboard",tag:"button"},{default:f(()=>[p(" 🏆 "),t("span",null,d(s.$t("bottomMenu.top")),1)]),_:1}),u(a,{class:"menu-item",to:"/channels",tag:"button"},{default:f(()=>[p(" 💰 "),t("span",null,d(s.$t("bottomMenu.earn")),1)]),_:1}),u(a,{class:"menu-item",to:"/market",tag:"button"},{default:f(()=>[p(" 🛒 "),t("span",null,d(s.$t("bottomMenu.market")),1)]),_:1}),u(a,{class:"menu-item",to:"/slots",tag:"button"},{default:f(()=>[p(" 🎰 "),t("span",null,d(s.$t("slots.bottom")),1)]),_:1}),u(a,{class:"menu-item",to:"/posts",tag:"button"},{default:f(()=>[p(" 🌐 "),t("span",null,d(s.$t("bottomMenu.posts")),1)]),_:1}),u(a,{class:"menu-item",to:"/boosts",tag:"button"},{default:f(()=>[p(" 🚀 "),t("span",null,d(s.$t("bottomMenu.boosts")),1)]),_:1})])])],64)}}}),K=z(J,[["__scopeId","data-v-694d504c"]]),Q=["src"],W=["src"],ee=I({__name:"Miner",setup(F){const n=N(),{getCurrentSkin:v}=n,l=k(null),_=k(0);let s;const R=()=>{console.log(`Кількість натискань: ${_.value}`),n.sendMineCoins(_.value),_.value=0},a=()=>{_.value+=1,s&&clearTimeout(s),s=setTimeout(R,300)};X(()=>{window.scrollTo(0,0)}),D(()=>{s&&clearTimeout(s)});const y=k(null),M=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,C=(o,c,m)=>{var h;const e=document.createElement("div");e.style.position="absolute",e.style.left=`${c}px`,e.style.top=`${m}px`,e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.transform="translate(-50%, -50%)";const i=document.createElement("div");i.textContent=o.toString(),n.user&&n.user.is_premium?i.style.color="#ff9900":i.style.color="white",i.style.userSelect="none",i.style.pointerEvents="none",i.style.fontSize="40px",i.classList.add("flying-number");const r=document.createElement("img");r.src=E(),r.style.width="35px",r.style.height="35px",r.style.marginLeft="50px",r.style.marginRight="8px",r.classList.add("flying-number"),e.appendChild(r),e.appendChild(i),(h=y.value)==null||h.appendChild(e),setTimeout(()=>{e.remove()},1e3)};function L(o){return window.TouchEvent!==void 0?o instanceof TouchEvent:o.touches!==void 0}const x=o=>{var S;if(!n.user||!l.value||o.type==="mousedown"&&M())return;let c,m;if(L(o)){const b=o;c=b.touches[0].clientX,m=b.touches[0].clientY}else{const b=o;c=b.clientX,m=b.clientY}const e=(S=y.value)==null?void 0:S.getBoundingClientRect(),i=c-((e==null?void 0:e.left)??0),r=m-((e==null?void 0:e.top)??0);if(n.user.energy>n.user.mine_level){n.mineCoins();var h=1;n.user.is_premium&&(h=2),C(n.user.mine_level*h,i,r),Z().impactOccurred("light"),a()}l.value.style.transform="scale(0.98)"},g=()=>{l.value&&(l.value.style.transform="",l.value.style.transform="scale(1)")},E=()=>{let o=B.findIndex(c=>c.id==v);return console.log(`Index is : ${o}`),B[o].skin};return(o,c)=>{var m;return w(),T(Y,null,[t("main",null,[u(P),t("div",{class:"coin-container numbers-container",ref_key:"numbersContainerRef",ref:y},[(m=$(n).user)!=null&&m.is_premium?(w(),T("img",{key:0,src:E(),alt:"Premium Coin",class:"coin",ref_key:"coinRef",ref:l,onMousedown:x,onTouchstart:x,onMouseup:g,onMouseleave:g,onTouchend:g},null,40,Q)):(w(),T("img",{key:1,src:E(),class:"coin",alt:"Regular Coin",ref_key:"coinRef",ref:l,onMousedown:x,onTouchstart:x,onMouseup:g,onMouseleave:g,onTouchend:g},null,40,W))],512)]),u(K)],64)}}}),se=z(ee,[["__scopeId","data-v-eedbf224"]]);export{se as default};
