import{d as S,u as B,r as n,o as C,K as U,b as I,c as x,e as t,C as N,L as P,n as T,x as $,y as E,z as F,_ as H}from"./index-BkcpNjDw.js";import{u as D}from"./games-DN9wLm7P.js";const v=d=>(E("data-v-d8ddf745"),d=d(),F(),d),M=["width","height"],z={id:"unity-loading-bar"},A=v(()=>t("div",{id:"unity-logo"},null,-1)),G={id:"unity-progress-bar-empty"},W=v(()=>t("div",{id:"unity-webgl-logo"},null,-1)),j=v(()=>t("div",{id:"unity-build-title"},"FlappyDick",-1)),L=S({__name:"Town",setup(d){D();const c=B(),p=n("unity-desktop"),m=n(960),h=n(600),y=n("0%"),u=n(!0),g=n(0),f=n(null),i=n(null),o=n(null),r="https://taptaptap.coinclicker.app/uploads/BuildTown",w=`${r}/buildes.loader.js`,_={dataUrl:`${r}/buildes.data`,frameworkUrl:`${r}/buildes.framework.js`,codeUrl:`${r}/buildes.wasm`,streamingAssetsUrl:"",companyName:"DefaultCompany",productName:"FlappyDick",productVersion:"0.1",showBanner:(e,s)=>{if(o.value){const a=document.createElement("div");a.innerHTML=e,o.value.appendChild(a),s==="error"?a.style.background="red":s==="warning"&&(a.style.background="yellow"),a.style.padding="10px",setTimeout(()=>{o.value&&o.value.removeChild(a)},5e3)}}},b=e=>{y.value=`${100*e}%`,e==1&&console.log("load Finish")},k=()=>{var e;(e=i.value)==null||e.SetFullscreen(1)};return window.GetSkins=function(){i.value.SendMessage("GameManager","OnInitSkins",c.skins)},C(async()=>{var s,a;if(((s=c.user)==null?void 0:s.id)!=null&&(g.value=(a=c.user)==null?void 0:a.id),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){const l=document.createElement("meta");l.name="viewport",l.content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes",document.getElementsByTagName("head")[0].appendChild(l),p.value="unity-mobile",m.value=window.innerWidth,h.value=window.innerHeight}u.value=!0;const e=document.createElement("script");e.src=w,e.onload=async()=>{try{i.value=await createUnityInstance(f.value,_,b),u.value=!1}catch(l){alert(l)}},document.body.appendChild(e)}),U(()=>{i.value&&i.value.Quit().then(()=>{i.value=null})}),n({userHP:0,userName:"",enemyHP:0,enemyName:""}),n(0),(e,s)=>(I(),x("div",{id:"unity-container",class:$(p.value)},[t("canvas",{id:"unity-canvas",ref_key:"canvas",ref:f,width:m.value,height:h.value,tabindex:"-1"},null,8,M),N(t("div",z,[A,t("div",G,[t("div",{id:"unity-progress-bar-full",style:T({width:y.value})},null,4)])],512),[[P,u.value]]),t("div",{id:"unity-warning",ref_key:"warningBanner",ref:o},null,512),t("div",{id:"unity-footer"},[W,t("div",{id:"unity-fullscreen-button",onClick:k}),j])],2))}}),O=H(L,[["__scopeId","data-v-d8ddf745"]]);export{O as default};
