import{B as F}from"./Balance-iYJ24vv5.js";import{d as z,u as H,r as y,o as I,a as L,b as T,c as S,e,t as i,f as R,g as a,w as c,n as P,F as N,h as f,_ as X,i as U,Z as V}from"./index-DLa6Iw3H.js";import{s as j}from"./skinBase-CK22gNev.js";const D={class:"energy-section"},Z={class:"energy-progress-bar"},O={class:"energy-info"},q={class:"energy-value"},A={class:"bottom-menu"},G={class:"menu-items"},J=z({__name:"BottomMenu",setup(Y){const s=H(),b=y(null),u=y(null),g=y(null),m=y(null),x=y(null),k=y(null),C=()=>{if(b.value&&u.value&&k.value&&g.value&&m.value&&x.value){const t=b.value.getBoundingClientRect();u.value.style.bottom=`${window.innerHeight-t.top+20}px`,g.value.style.bottom=`${window.innerHeight-t.top+95}px`,m.value.style.bottom=`${window.innerHeight-t.top+60}px`,x.value.style.bottom=`${window.innerHeight-t.top+140}px`,k.value.style.bottom=`${window.innerHeight-t.top+20}px`}};return I(async()=>{C()}),(t,E)=>{var h,d,w,o;const l=L("router-link");return T(),S(N,null,[e("div",D,[e("div",{ref_key:"withdrawalBalanceRef",ref:k,style:{left:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[e("span",null,"Доступно на вывод: "+i((h=R(s).user)==null?void 0:h.withdrawal_balance)+"🐥",1)],512),e("div",{ref_key:"skinsRef",ref:u,style:{right:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[a(l,{class:"menu-item",style:{fontSize:"35px"},to:"/skins",tag:"button"},{default:c(()=>[f(" 🦆 "),e("span",null,i(t.$t("bottomMenu.skins")),1)]),_:1})],512),e("div",{ref_key:"clansRef",ref:g,style:{right:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[a(l,{class:"menu-item",style:{fontSize:"35px"},to:"/clans",tag:"button"},{default:c(()=>[f(" 🏰 "),e("span",null,i(t.$t("bottomMenu.clans")),1)]),_:1})],512),e("div",{ref_key:"gameRef",ref:m,style:{left:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[a(l,{class:"menu-item",style:{fontSize:"35px"},to:"/games",tag:"button"},{default:c(()=>[f(" ⚔️ "),e("span",null,i(t.$t("bottomMenu.fights")),1)]),_:1})],512),e("div",{ref_key:"townRef",ref:x,style:{left:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[a(l,{class:"menu-item",style:{fontSize:"35px"},to:"/town",tag:"button"},{default:c(()=>[f(" 🏘️ "),e("span",null,i(t.$t("bottomMenu.town")),1)]),_:1})],512),e("div",{ref_key:"energyRef",ref:b,class:"energy"},[e("div",Z,[e("div",{class:"energy-progress",style:P({width:(((d=R(s).user)==null?void 0:d.energy)??0)/(1e3+(((w=R(s).user)==null?void 0:w.max_energy_level)??0)*500)*100+"%"})},null,4)]),e("div",O,[e("span",q,"⚡"+i((o=R(s).user)==null?void 0:o.energy),1)])],512)]),e("div",A,[e("div",G,[a(l,{class:"menu-item",to:"/leaderboard",tag:"button"},{default:c(()=>[f(" 🏆 "),e("span",null,i(t.$t("bottomMenu.top")),1)]),_:1}),a(l,{class:"menu-item",to:"/channels",tag:"button"},{default:c(()=>[f(" 📋 "),e("span",null,i(t.$t("bottomMenu.earn")),1)]),_:1}),a(l,{class:"menu-item",to:"/market",tag:"button"},{default:c(()=>[f(" 🛒 "),e("span",null,i(t.$t("bottomMenu.market")),1)]),_:1}),a(l,{class:"menu-item",to:"/slots",tag:"button"},{default:c(()=>[f(" 🎰 "),e("span",null,i(t.$t("slots.bottom")),1)]),_:1}),a(l,{class:"menu-item",to:"/posts",tag:"button"},{default:c(()=>[f(" 🌐 "),e("span",null,i(t.$t("bottomMenu.posts")),1)]),_:1}),a(l,{class:"menu-item",to:"/boosts",tag:"button"},{default:c(()=>[f(" 🚀 "),e("span",null,i(t.$t("bottomMenu.boosts")),1)]),_:1})])])],64)}}}),K=X(J,[["__scopeId","data-v-d21047e2"]]),Q=["src"],W=["src"],ee=z({__name:"Miner",setup(Y){const s=H(),{getCurrentSkin:b}=s,u=y(null),g=y(0);let m;const x=()=>{console.log(`Кількість натискань: ${g.value}`),s.sendMineCoins(g.value),g.value=0},k=()=>{g.value+=1,m&&clearTimeout(m),m=setTimeout(x,300)};I(()=>{window.scrollTo(0,0)}),U(()=>{m&&clearTimeout(m)});const C=y(null),t=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,E=(o,_,v)=>{var M;const n=document.createElement("div");n.style.position="absolute",n.style.left=`${_}px`,n.style.top=`${v}px`,n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center",n.style.transform="translate(-50%, -50%)";const r=document.createElement("div");r.textContent=o.toString(),s.user&&s.user.is_premium?r.style.color="#ff9900":r.style.color="white",r.style.userSelect="none",r.style.pointerEvents="none",r.style.fontSize="40px",r.classList.add("flying-number");const p=document.createElement("img");p.src=w(),p.style.width="35px",p.style.height="35px",p.style.marginLeft="50px",p.style.marginRight="8px",p.classList.add("flying-number"),n.appendChild(p),n.appendChild(r),(M=C.value)==null||M.appendChild(n),setTimeout(()=>{n.remove()},1e3)};function l(o){return window.TouchEvent!==void 0?o instanceof TouchEvent:o.touches!==void 0}const h=o=>{var B;if(!s.user||!u.value||o.type==="mousedown"&&t())return;let _,v;if(l(o)){const $=o;_=$.touches[0].clientX,v=$.touches[0].clientY}else{const $=o;_=$.clientX,v=$.clientY}const n=(B=C.value)==null?void 0:B.getBoundingClientRect(),r=_-((n==null?void 0:n.left)??0),p=v-((n==null?void 0:n.top)??0);if(s.user.energy>s.user.mine_level){s.mineCoins();var M=1;s.user.is_premium&&(M=2),E(s.user.mine_level*M,r,p),V().impactOccurred("light"),k()}u.value.style.transform="scale(0.98)"},d=()=>{u.value&&(u.value.style.transform="",u.value.style.transform="scale(1)")},w=()=>{let o=j.findIndex(_=>_.id==b);return console.log(b),j[o==-1?1:o].skin};return(o,_)=>{var v;return T(),S(N,null,[e("main",null,[a(F),e("div",{class:"coin-container numbers-container",ref_key:"numbersContainerRef",ref:C},[(v=R(s).user)!=null&&v.is_premium?(T(),S("img",{key:0,src:w(),alt:"Premium Coin",class:"coin",ref_key:"coinRef",ref:u,onMousedown:h,onTouchstart:h,onMouseup:d,onMouseleave:d,onTouchend:d},null,40,Q)):(T(),S("img",{key:1,src:w(),class:"coin",alt:"Regular Coin",ref_key:"coinRef",ref:u,onMousedown:h,onTouchstart:h,onMouseup:d,onMouseleave:d,onTouchend:d},null,40,W))],512)]),a(K)],64)}}}),oe=X(ee,[["__scopeId","data-v-d482b1b9"]]);export{oe as default};
